Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.testmed\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:name=\".App\"\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.TestMed\">\r\n        <activity\r\n            android:name=\".MainActivityDoctor\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".SelectUserActivity\"\r\n            android:exported=\"true\">\r\n\r\n        </activity>\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\"\r\n            android:label=\"@string/app_name\"\r\n            android:windowSoftInputMode=\"adjustResize\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/AndroidManifest.xml	(date 1644563860482)
@@ -3,6 +3,8 @@
     package="com.example.testmed">
 
     <uses-permission android:name="android.permission.INTERNET" />
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
 
     <application
         android:name=".App"
@@ -11,7 +13,10 @@
         android:label="@string/app_name"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
+        android:largeHeap="true"
         android:theme="@style/Theme.TestMed">
+        <activity android:name="com.theartofdev.edmodo.cropper.CropImageActivity"
+            android:theme="@style/Base.Theme.AppCompat"/>
         <activity
             android:name=".MainActivityDoctor"
             android:exported="false" />
Index: app/src/main/java/com/example/testmed/registeruser/presentation/fragment/EnterCodeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.presentation.fragment\r\n\r\nimport android.graphics.Color\r\nimport android.os.Bundle\r\nimport android.os.CountDownTimer\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.core.view.isVisible\r\nimport androidx.core.widget.doAfterTextChanged\r\nimport androidx.core.widget.doOnTextChanged\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport androidx.navigation.fragment.navArgs\r\nimport by.kirich1409.viewbindingdelegate.CreateMethod\r\nimport by.kirich1409.viewbindingdelegate.viewBinding\r\nimport com.example.testmed.AUTH\r\nimport com.example.testmed.R\r\nimport com.example.testmed.base.BaseFragment\r\nimport com.example.testmed.databinding.FragmentEnterCodeBinding\r\nimport com.example.testmed.hideKeyboard\r\nimport com.example.testmed.registeruser.domain.UIState\r\nimport com.example.testmed.registeruser.domain.usecase.UIValidationState\r\nimport com.example.testmed.registeruser.presentation.viewmodel.EnterCodeViewModel\r\nimport com.example.testmed.showSnackbar\r\nimport org.koin.androidx.viewmodel.ext.android.viewModel\r\n\r\n\r\nclass EnterCodeFragment : BaseFragment<FragmentEnterCodeBinding>(FragmentEnterCodeBinding::inflate) {\r\n\r\n    private val args: EnterCodeFragmentArgs by navArgs()\r\n    private val enterCodeViewModel: EnterCodeViewModel by viewModel()\r\n    private var START_MILLI_SECONDS = 60000L\r\n    private lateinit var countdown_timer: CountDownTimer\r\n    private var isRunning: Boolean = false;\r\n    private var time_in_milli_seconds = 0L\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        setButtonOptions()\r\n        editTexts()\r\n        sendButtonClick()\r\n    }\r\n\r\n    private fun sendButtonClick() {\r\n        binding.buttonSend.setOnClickListener {\r\n            val code = lengthCode()\r\n            enterCodeViewModel.validate(code)\r\n            enterCodeViewModel.uiCodeValidateLiveData.observe(viewLifecycleOwner) { codeValidationState ->\r\n                when (codeValidationState) {\r\n                    is UIValidationState.Loading -> {\r\n                        loading()\r\n                    }\r\n\r\n                    is UIValidationState.IsEmpty -> {\r\n                        setButtonOptions()\r\n                    }\r\n\r\n                    is UIValidationState.PhoneNumberLess -> {\r\n                        notLoading()\r\n                        binding.errorOtpCode.text = codeValidationState.errorMessage\r\n                        binding.otp1.requestFocus()\r\n                    }\r\n\r\n                    else -> {\r\n                        enterCode(code)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun setButtonOptions() {\r\n        binding.buttonSend.isClickable = false\r\n        binding.buttonSend.isEnabled = false\r\n        binding.buttonSend.background.setTint(Color.parseColor(\"#F3F2F6\"))\r\n        timer()\r\n    }\r\n\r\n    private fun timer() {\r\n        countdown_timer = object : CountDownTimer(START_MILLI_SECONDS, 1000) {\r\n            override fun onFinish() {\r\n                updateButtonOptions()\r\n            }\r\n\r\n            override fun onTick(p0: Long) {\r\n                time_in_milli_seconds = p0\r\n                if (isRunning){\r\n                    updateTextUI()\r\n                }\r\n            }\r\n        }\r\n        countdown_timer.start()\r\n        isRunning = true\r\n    }\r\n\r\n    private fun updateButtonOptions() {\r\n        binding.buttonSend.isClickable = true\r\n        binding.buttonSend.isEnabled = true\r\n        binding.buttonSend.background.setTint(Color.parseColor(\"#FF2E58AB\"))\r\n        binding.buttonSend.text = \"Отправить повторно\"\r\n    }\r\n\r\n    private fun updateTextUI() {\r\n        val minute = (time_in_milli_seconds / 1000) / 60\r\n        val seconds = (time_in_milli_seconds / 1000) % 60\r\n\r\n        binding.buttonSend.text = \"Отправить повторно · $minute:$seconds\"\r\n    }\r\n\r\n    private fun editTexts() {\r\n        binding.apply {\r\n            otp1.apply {\r\n                requestFocus()\r\n                doOnTextChanged { text, _, _, _ ->\r\n                    if (text.toString().trim().isNotEmpty()) {\r\n                        otp2.requestFocus()\r\n                        otp2.isCursorVisible = true\r\n                    }\r\n                }\r\n            }\r\n            otp2.doOnTextChanged { text, _, _, _ ->\r\n                if (text.toString().trim().isNotEmpty()) {\r\n                    otp3.requestFocus()\r\n                    otp3.isCursorVisible = true\r\n                }\r\n            }\r\n            otp3.doOnTextChanged { text, _, _, _ ->\r\n                if (text.toString().trim().isNotEmpty()) {\r\n                    otp4.requestFocus()\r\n                    otp4.isCursorVisible = true\r\n                }\r\n            }\r\n            otp4.doOnTextChanged { text, _, _, _ ->\r\n                if (text.toString().trim().isNotEmpty()) {\r\n                    otp5.requestFocus()\r\n                    otp5.isCursorVisible = true\r\n                }\r\n            }\r\n            otp5.doOnTextChanged { text, _, _, _ ->\r\n                if (text.toString().trim().isNotEmpty()) {\r\n                    otp6.requestFocus()\r\n                    otp6.isCursorVisible = true\r\n                }\r\n            }\r\n            otp6.apply {\r\n                doAfterTextChanged {\r\n                    if (lengthCode().length == 6) {\r\n                        view?.hideKeyboard()\r\n                        binding.buttonSend.isClickable = true\r\n                        binding.buttonSend.isEnabled = true\r\n                        binding.buttonSend.background.setTint(Color.parseColor(\"#FF2E58AB\"))\r\n                        binding.buttonSend.text = \"Отправить\"\r\n                        pauseTimer()\r\n                    } else {\r\n                        binding.buttonSend.isClickable = false\r\n                        binding.buttonSend.isEnabled = false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun pauseTimer() {\r\n        countdown_timer.cancel()\r\n        isRunning = false\r\n    }\r\n\r\n    private fun lengthCode(): String {\r\n        var code = \"\"\r\n        binding.apply {\r\n            code =\r\n                otp1.text.toString() + otp2.text.toString() + otp3.text.toString() + otp4.text.toString() + otp5.text.toString() + otp6.text.toString()\r\n        }\r\n        return code\r\n    }\r\n\r\n    private fun enterCode(code: String) {\r\n        val id = args.id\r\n        enterCodeViewModel.enterCode(code, id)\r\n        enterCodeViewModel.sendCodeLiveData.observe(viewLifecycleOwner) { uiState ->\r\n            when (uiState) {\r\n                is UIState.Loading -> {\r\n                    loading()\r\n                }\r\n\r\n                is UIState.Error -> {\r\n                    notLoading()\r\n                    binding.errorOtpCode.text = uiState.errorMessage\r\n                    binding.errorOtpCode.isVisible = true\r\n                    binding.buttonSend.isVisible = true\r\n                    editTextsNull()\r\n                    binding.otp1.requestFocus()\r\n                    setButtonOptions()\r\n                }\r\n\r\n                else -> {\r\n                    pauseTimer()\r\n                    hideContent()\r\n                    val action =\r\n                    findNavController().navigate(R.id.navigation_userDataSignOutFragment)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun editTextsNull() {\r\n        binding.apply {\r\n            otp1.setText(\"\")\r\n            otp2.setText(\"\")\r\n            otp3.setText(\"\")\r\n            otp4.setText(\"\")\r\n            otp5.setText(\"\")\r\n            otp6.setText(\"\")\r\n        }\r\n    }\r\n\r\n    private fun loading() {\r\n        binding.progressBar.isVisible = true\r\n        binding.content.isVisible = false\r\n        binding.buttonSend.isVisible = false\r\n    }\r\n\r\n    private fun notLoading() {\r\n        binding.progressBar.isVisible = false\r\n        binding.content.isVisible = true\r\n    }\r\n\r\n    private fun hideContent() {\r\n        binding.progressBar.isVisible = false\r\n        binding.content.isVisible = false\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        pauseTimer()\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/EnterCodeFragment.kt b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/EnterCodeFragment.kt
--- a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/EnterCodeFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/EnterCodeFragment.kt	(date 1644898502220)
@@ -3,32 +3,23 @@
 import android.graphics.Color
 import android.os.Bundle
 import android.os.CountDownTimer
-import android.util.Log
-import android.view.LayoutInflater
 import android.view.View
-import android.view.ViewGroup
-import android.widget.Toast
 import androidx.core.view.isVisible
 import androidx.core.widget.doAfterTextChanged
 import androidx.core.widget.doOnTextChanged
-import androidx.fragment.app.Fragment
 import androidx.navigation.fragment.findNavController
 import androidx.navigation.fragment.navArgs
-import by.kirich1409.viewbindingdelegate.CreateMethod
-import by.kirich1409.viewbindingdelegate.viewBinding
-import com.example.testmed.AUTH
-import com.example.testmed.R
+import com.example.testmed.*
 import com.example.testmed.base.BaseFragment
 import com.example.testmed.databinding.FragmentEnterCodeBinding
-import com.example.testmed.hideKeyboard
 import com.example.testmed.registeruser.domain.UIState
 import com.example.testmed.registeruser.domain.usecase.UIValidationState
 import com.example.testmed.registeruser.presentation.viewmodel.EnterCodeViewModel
-import com.example.testmed.showSnackbar
 import org.koin.androidx.viewmodel.ext.android.viewModel
 
 
-class EnterCodeFragment : BaseFragment<FragmentEnterCodeBinding>(FragmentEnterCodeBinding::inflate) {
+class EnterCodeFragment :
+    BaseFragment<FragmentEnterCodeBinding>(FragmentEnterCodeBinding::inflate) {
 
     private val args: EnterCodeFragmentArgs by navArgs()
     private val enterCodeViewModel: EnterCodeViewModel by viewModel()
@@ -87,7 +78,7 @@
 
             override fun onTick(p0: Long) {
                 time_in_milli_seconds = p0
-                if (isRunning){
+                if (isRunning) {
                     updateTextUI()
                 }
             }
@@ -178,7 +169,7 @@
     }
 
     private fun enterCode(code: String) {
-        val id = args.id
+        val id = args.code
         enterCodeViewModel.enterCode(code, id)
         enterCodeViewModel.sendCodeLiveData.observe(viewLifecycleOwner) { uiState ->
             when (uiState) {
@@ -199,7 +190,6 @@
                 else -> {
                     pauseTimer()
                     hideContent()
-                    val action =
                     findNavController().navigate(R.id.navigation_userDataSignOutFragment)
                 }
             }
Index: app/src/main/java/com/example/testmed/base/BaseFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.base\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.viewbinding.ViewBinding\r\n\r\ntypealias Inflate<T> = (LayoutInflater, ViewGroup?, Boolean) -> T\r\n\r\nabstract class BaseFragment<VB : ViewBinding>(\r\n    private val inflate: Inflate<VB>,\r\n) : Fragment() {\r\n\r\n    private var _binding: VB? = null\r\n    val binding get() = _binding!!\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?,\r\n    ): View? {\r\n        _binding = inflate.invoke(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/base/BaseFragment.kt b/app/src/main/java/com/example/testmed/base/BaseFragment.kt
--- a/app/src/main/java/com/example/testmed/base/BaseFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/base/BaseFragment.kt	(date 1644570194985)
@@ -14,7 +14,7 @@
 ) : Fragment() {
 
     private var _binding: VB? = null
-    val binding get() = _binding!!
+    val binding get() = checkNotNull(_binding)
 
     override fun onCreateView(
         inflater: LayoutInflater,
@@ -29,4 +29,7 @@
         super.onDestroyView()
         _binding = null
     }
+
+
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/SelectUserActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport by.kirich1409.viewbindingdelegate.viewBinding\r\nimport com.example.testmed.databinding.ActivitySelectUserBinding\r\n\r\nclass SelectUserActivity : AppCompatActivity(R.layout.activity_select_user) {\r\n    private val binding get() = _binding!!\r\n    private var _binding : ActivitySelectUserBinding? = null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        _binding = ActivitySelectUserBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n        binding.apply {\r\n            patient.setOnClickListener {\r\n                val intent = Intent(this@SelectUserActivity, MainActivity::class.java)\r\n                startActivity(intent)\r\n            }\r\n            doctor.setOnClickListener {\r\n                val intent = Intent(this@SelectUserActivity, MainActivityDoctor::class.java)\r\n                startActivity(intent)\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/SelectUserActivity.kt b/app/src/main/java/com/example/testmed/SelectUserActivity.kt
--- a/app/src/main/java/com/example/testmed/SelectUserActivity.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/SelectUserActivity.kt	(date 1644898409608)
@@ -3,7 +3,6 @@
 import android.content.Intent
 import android.os.Bundle
 import androidx.appcompat.app.AppCompatActivity
-import by.kirich1409.viewbindingdelegate.viewBinding
 import com.example.testmed.databinding.ActivitySelectUserBinding
 
 class SelectUserActivity : AppCompatActivity(R.layout.activity_select_user) {
Index: app/src/main/java/com/example/testmed/ui/notifications/NotificationsFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ui/notifications/NotificationsFragment.kt b/app/src/main/java/com/example/testmed/ui/notifications/ProfileFragment.kt
rename from app/src/main/java/com/example/testmed/ui/notifications/NotificationsFragment.kt
rename to app/src/main/java/com/example/testmed/ui/notifications/ProfileFragment.kt
--- a/app/src/main/java/com/example/testmed/ui/notifications/NotificationsFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/ui/notifications/ProfileFragment.kt	(date 1644893354337)
@@ -1,45 +1,93 @@
 package com.example.testmed.ui.notifications
 
 import android.os.Bundle
-import android.view.LayoutInflater
 import android.view.View
-import android.view.ViewGroup
-import android.widget.TextView
-import androidx.fragment.app.Fragment
-import androidx.lifecycle.Observer
-import androidx.lifecycle.ViewModelProvider
+import androidx.navigation.fragment.findNavController
+import com.bumptech.glide.Glide
+import com.example.testmed.AUTH
+import com.example.testmed.DB
 import com.example.testmed.R
-import com.example.testmed.databinding.FragmentNotificationsBinding
+import com.example.testmed.UID
+import com.example.testmed.base.BaseFragment
+import com.example.testmed.databinding.FragmentProfileBinding
+import com.example.testmed.model.PatientData
+import com.google.firebase.database.DataSnapshot
+import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.DatabaseReference
+import com.google.firebase.database.ValueEventListener
 
-class NotificationsFragment : Fragment() {
+class ProfileFragment : BaseFragment<FragmentProfileBinding>(FragmentProfileBinding::inflate) {
 
     private lateinit var notificationsViewModel: NotificationsViewModel
-    private var _binding: FragmentNotificationsBinding? = null
+    private lateinit var valueEventListener: ValueEventListener
+    private lateinit var rdbRef: DatabaseReference
 
-    // This property is only valid between onCreateView and
-    // onDestroyView.
-    private val binding get() = _binding!!
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        setProfileData()
+        setChangeData()
+        signOut()
+    }
 
-    override fun onCreateView(
-        inflater: LayoutInflater,
-        container: ViewGroup?,
-        savedInstanceState: Bundle?
-    ): View? {
-        notificationsViewModel =
-            ViewModelProvider(this).get(NotificationsViewModel::class.java)
+    private fun signOut() {
+        binding.signOutApp.setOnClickListener {
+            AUTH.signOut()
+            findNavController().apply {
+                popBackStack(R.id.navigation_clinic, true)
+                popBackStack(R.id.navigation_change_patient_data, true)
+                popBackStack(R.id.navigation_profile, true)
+                popBackStack(R.id.navigation_home, true)
+                popBackStack(R.id.navigation_chats, true)
+                navigate(R.id.navigation_login)
+            }
+        }
+    }
 
-        _binding = FragmentNotificationsBinding.inflate(inflater, container, false)
-        val root: View = binding.root
+    private fun setChangeData(){
+        binding.changeData.setOnClickListener {
+            findNavController().navigate(R.id.navigation_change_patient_data)
+        }
+    }
 
-        val textView: TextView = binding.textNotifications
-        notificationsViewModel.text.observe(viewLifecycleOwner, Observer {
-            textView.text = it
+    private fun setProfileData() {
+        rdbRef = DB.reference
+            .child("patients")
+            .child(UID)
+        valueEventListener = rdbRef.addValueEventListener(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                if (snapshot.exists()) {
+                    val data = snapshot.getValue(PatientData::class.java)
+                    binding.apply {
+                        iin.text = data?.iin
+                        fullName.text = "${data?.name} ${data?.surname} ${data?.patronymic}"
+                        address.text = data?.address
+                        phoneNumber.text = data?.phoneNumber
+                        birthday.text = data?.birthday
+                        login.text = data?.login
+                        password.text = data?.password
+                        gender.text = data?.gender
+                        if (data?.photoUrl?.isNotEmpty()!!){
+                            Glide
+                                .with(requireContext())
+                                .load(data.photoUrl)
+                                .centerCrop()
+                                .into(imageView);
+                        }
+                    }
+                }else {
+                    findNavController().navigate(R.id.navigation_login)
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+                TODO("Not yet implemented")
+            }
         })
-        return root
     }
 
-    override fun onDestroyView() {
-        super.onDestroyView()
-        _binding = null
+    override fun onPause() {
+        super.onPause()
+        rdbRef.removeEventListener(valueEventListener)
     }
+
 }
\ No newline at end of file
Index: app/src/main/res/menu/bottom_nav_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n\r\n    <item\r\n        android:id=\"@+id/navigation_home\"\r\n        android:icon=\"@drawable/ic_home_black_24dp\"\r\n        android:title=\"@string/title_home\" />\r\n\r\n    <item\r\n        android:id=\"@+id/navigation_dashboard\"\r\n        android:icon=\"@drawable/ic_dashboard_black_24dp\"\r\n        android:title=\"@string/title_dashboard\" />\r\n\r\n    <item\r\n        android:id=\"@+id/navigation_notifications\"\r\n        android:icon=\"@drawable/ic_notifications_black_24dp\"\r\n        android:title=\"@string/title_notifications\" />\r\n\r\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/menu/bottom_nav_menu.xml b/app/src/main/res/menu/bottom_nav_menu.xml
--- a/app/src/main/res/menu/bottom_nav_menu.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/menu/bottom_nav_menu.xml	(date 1644898275043)
@@ -3,17 +3,26 @@
 
     <item
         android:id="@+id/navigation_home"
-        android:icon="@drawable/ic_home_black_24dp"
+        android:icon="@drawable/ic_home"
+        android:menuCategory="secondary"
         android:title="@string/title_home" />
 
     <item
-        android:id="@+id/navigation_dashboard"
-        android:icon="@drawable/ic_dashboard_black_24dp"
-        android:title="@string/title_dashboard" />
+        android:id="@+id/navigation_chats"
+        android:icon="@drawable/ic_chats"
+        android:menuCategory="secondary"
+        android:title="@string/title_chats" />
 
     <item
-        android:id="@+id/navigation_notifications"
-        android:icon="@drawable/ic_notifications_black_24dp"
-        android:title="@string/title_notifications" />
+        android:id="@+id/navigation_profile"
+        android:icon="@drawable/ic_profile"
+        android:menuCategory="secondary"
+        android:title="@string/title_profile" />
+
+    <item
+        android:id="@+id/navigation_clinic"
+        android:menuCategory="secondary"
+        android:icon="@drawable/ic_about_clinic"
+        android:title="@string/title_about_clinic" />
 
 </menu>
\ No newline at end of file
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath \"com.android.tools.build:gradle:7.0.4\"\r\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20\"\r\n        classpath 'com.google.gms:google-services:4.3.10'\r\n        classpath(\"androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5\")\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/build.gradle	(date 1644898612501)
@@ -8,7 +8,7 @@
         classpath "com.android.tools.build:gradle:7.0.4"
         classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20"
         classpath 'com.google.gms:google-services:4.3.10'
-        classpath("androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5")
+        classpath("androidx.navigation:navigation-safe-args-gradle-plugin:2.4.1")
 
         // NOTE: Do not place your application dependencies here; they belong
         // in the individual module build.gradle files
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'kotlin-android'\r\n    id 'com.google.gms.google-services'\r\n    id 'androidx.navigation.safeargs'\r\n    id 'kotlin-parcelize'\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.testmed\"\r\n        minSdk 21\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.core:core-ktx:1.7.0'\r\n    implementation 'androidx.appcompat:appcompat:1.4.0'\r\n    implementation 'com.google.android.material:material:1.4.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\r\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\r\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'\r\n    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\r\n\r\n    //viewbinding delegate\r\n    implementation 'com.github.kirich1409:viewbindingpropertydelegate:1.5.3'\r\n\r\n    // To use only without reflection variants of viewBinding\r\n    implementation 'com.github.kirich1409:viewbindingpropertydelegate-noreflection:1.5.3'\r\n\r\n\r\n    // firebase options\r\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\r\n    implementation 'com.google.firebase:firebase-firestore:24.0.1'\r\n    implementation platform('com.google.firebase:firebase-bom:29.0.0')\r\n    implementation 'com.google.firebase:firebase-analytics-ktx'\r\n    implementation 'com.google.firebase:firebase-database'\r\n    implementation 'com.google.firebase:firebase-storage'\r\n    implementation 'com.google.firebase:firebase-messaging'\r\n    implementation 'androidx.browser:browser:1.4.0'\r\n    implementation 'com.google.firebase:firebase-auth'\r\n\r\n    //DI Koin\r\n    // Koin main features for Android (Scope,ViewModel ...)\r\n    implementation \"io.insert-koin:koin-android:3.1.3\"\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/build.gradle	(date 1644898357046)
@@ -43,22 +43,15 @@
     implementation 'androidx.appcompat:appcompat:1.4.0'
     implementation 'com.google.android.material:material:1.4.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.1.2'
-    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'
-    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'
-    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'
-    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'
+    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'
+    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'
+    implementation 'androidx.navigation:navigation-fragment-ktx:2.4.1'
+    implementation 'androidx.navigation:navigation-ui-ktx:2.4.1'
     implementation 'androidx.legacy:legacy-support-v4:1.0.0'
     testImplementation 'junit:junit:4.+'
     androidTestImplementation 'androidx.test.ext:junit:1.1.3'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
 
-    //viewbinding delegate
-    implementation 'com.github.kirich1409:viewbindingpropertydelegate:1.5.3'
-
-    // To use only without reflection variants of viewBinding
-    implementation 'com.github.kirich1409:viewbindingpropertydelegate-noreflection:1.5.3'
-
-
     // firebase options
     implementation 'com.google.firebase:firebase-auth:21.0.1'
     implementation 'com.google.firebase:firebase-firestore:24.0.1'
@@ -69,8 +62,20 @@
     implementation 'com.google.firebase:firebase-messaging'
     implementation 'androidx.browser:browser:1.4.0'
     implementation 'com.google.firebase:firebase-auth'
+    implementation 'com.google.firebase:firebase-storage:20.0.0'
+    implementation 'com.google.firebase:firebase-storage-ktx:20.0.0'
+    implementation 'com.google.firebase:firebase-firestore-ktx:24.0.1'
+    implementation 'com.google.firebase:firebase-database:20.0.3'
+    implementation 'com.google.firebase:firebase-database-ktx:20.0.3'
+
 
     //DI Koin
     // Koin main features for Android (Scope,ViewModel ...)
     implementation "io.insert-koin:koin-android:3.1.3"
+
+    //Crop Image
+    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.0'
+
+    //Glide
+    implementation 'com.github.bumptech.glide:glide:4.13.0'
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_notifications.xml
===================================================================
diff --git a/app/src/main/res/layout/fragment_notifications.xml b/app/src/main/res/layout/fragment_notifications.xml
deleted file mode 100644
--- a/app/src/main/res/layout/fragment_notifications.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ /dev/null	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    tools:context=".ui.notifications.NotificationsFragment">
-
-    <TextView
-        android:id="@+id/text_notifications"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:layout_marginStart="8dp"
-        android:layout_marginTop="8dp"
-        android:layout_marginEnd="8dp"
-        android:textAlignment="center"
-        android:textSize="20sp"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_dashboard.xml
===================================================================
diff --git a/app/src/main/res/layout/fragment_dashboard.xml b/app/src/main/res/layout/fragment_dashboard.xml
deleted file mode 100644
--- a/app/src/main/res/layout/fragment_dashboard.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ /dev/null	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    tools:context=".ui.dashboard.DashboardFragment">
-
-    <TextView
-        android:id="@+id/text_dashboard"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:layout_marginStart="8dp"
-        android:layout_marginTop="8dp"
-        android:layout_marginEnd="8dp"
-        android:textAlignment="center"
-        android:textSize="20sp"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/ui/dashboard/DashboardFragment.kt
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ui/dashboard/DashboardFragment.kt b/app/src/main/java/com/example/testmed/ui/dashboard/DashboardFragment.kt
deleted file mode 100644
--- a/app/src/main/java/com/example/testmed/ui/dashboard/DashboardFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ /dev/null	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
@@ -1,45 +0,0 @@
-package com.example.testmed.ui.dashboard
-
-import android.os.Bundle
-import android.view.LayoutInflater
-import android.view.View
-import android.view.ViewGroup
-import android.widget.TextView
-import androidx.fragment.app.Fragment
-import androidx.lifecycle.Observer
-import androidx.lifecycle.ViewModelProvider
-import com.example.testmed.R
-import com.example.testmed.databinding.FragmentDashboardBinding
-
-class DashboardFragment : Fragment() {
-
-    private lateinit var dashboardViewModel: DashboardViewModel
-    private var _binding: FragmentDashboardBinding? = null
-
-    // This property is only valid between onCreateView and
-    // onDestroyView.
-    private val binding get() = _binding!!
-
-    override fun onCreateView(
-        inflater: LayoutInflater,
-        container: ViewGroup?,
-        savedInstanceState: Bundle?
-    ): View? {
-        dashboardViewModel =
-            ViewModelProvider(this).get(DashboardViewModel::class.java)
-
-        _binding = FragmentDashboardBinding.inflate(inflater, container, false)
-        val root: View = binding.root
-
-        val textView: TextView = binding.textDashboard
-        dashboardViewModel.text.observe(viewLifecycleOwner, Observer {
-            textView.text = it
-        })
-        return root
-    }
-
-    override fun onDestroyView() {
-        super.onDestroyView()
-        _binding = null
-    }
-}
\ No newline at end of file
Index: .idea/deploymentTargetDropDown.xml
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
deleted file mode 100644
--- a/.idea/deploymentTargetDropDown.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ /dev/null	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
@@ -1,17 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="deploymentTargetDropDown">
-    <targetSelectedWithDropDown>
-      <Target>
-        <type value="QUICK_BOOT_TARGET" />
-        <deviceKey>
-          <Key>
-            <type value="VIRTUAL_DEVICE_PATH" />
-            <value value="C:\Users\sarim\.android\avd\Pixel_3_API_30.avd" />
-          </Key>
-        </deviceKey>
-      </Target>
-    </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2022-02-08T09:21:00.735457Z" />
-  </component>
-</project>
\ No newline at end of file
Index: app/src/main/res/drawable/bottom_nav_selected.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/bottom_nav_selected.xml b/app/src/main/res/drawable/bottom_nav_selected.xml
new file mode 100644
--- /dev/null	(date 1644465928333)
+++ b/app/src/main/res/drawable/bottom_nav_selected.xml	(date 1644465928333)
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:state_checked="true" android:color="@color/icon_color" />
+    <item android:color="@color/defaultColor"  />
+</selector>
\ No newline at end of file
Index: app/src/main/res/drawable/ic_profile_large.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_profile_large.xml b/app/src/main/res/drawable/ic_profile_large.xml
new file mode 100644
--- /dev/null	(date 1644565558364)
+++ b/app/src/main/res/drawable/ic_profile_large.xml	(date 1644565558364)
@@ -0,0 +1,12 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="150dp"
+    android:height="150dp"
+    android:viewportWidth="25"
+    android:viewportHeight="25">
+  <path
+      android:pathData="M5.08,6.9444C5.08,3.1091 8.4021,0 12.5,0C16.5979,0 19.92,3.1091 19.92,6.9444C19.92,10.7798 16.5979,13.8889 12.5,13.8889C8.4021,13.8889 5.08,10.7798 5.08,6.9444Z"
+      android:fillColor="#99A2AD"/>
+  <path
+      android:pathData="M12.5,16.6667C8.1451,16.6667 4.2283,17.7201 1.5136,19.3979C-1.906,21.5114 0.9821,25 5.08,25H19.92C24.0179,25 26.906,21.5114 23.4864,19.3979C20.7717,17.7201 16.8549,16.6667 12.5,16.6667Z"
+      android:fillColor="#99A2AD"/>
+</vector>
Index: app/src/main/java/com/example/testmed/ChangePatientDataViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ChangePatientDataViewModel.kt b/app/src/main/java/com/example/testmed/ChangePatientDataViewModel.kt
new file mode 100644
--- /dev/null	(date 1644576221565)
+++ b/app/src/main/java/com/example/testmed/ChangePatientDataViewModel.kt	(date 1644576221565)
@@ -0,0 +1,33 @@
+package com.example.testmed
+
+import androidx.lifecycle.LiveData
+import androidx.lifecycle.MutableLiveData
+import androidx.lifecycle.ViewModel
+import androidx.lifecycle.viewModelScope
+import com.example.testmed.registeruser.domain.usecase.IUserRegistrationValidate
+import com.example.testmed.registeruser.domain.usecase.UserRegisterState
+import kotlinx.coroutines.Dispatchers
+import kotlinx.coroutines.flow.collect
+import kotlinx.coroutines.launch
+
+class ChangePatientDataViewModel(
+    private val userRegistrationValidate: IUserRegistrationValidate,
+
+    ) : ViewModel() {
+    private val _dataValidateLiveData: MutableLiveData<UserRegisterState> = MutableLiveData<UserRegisterState>()
+    val dataValidateLiveData : LiveData<UserRegisterState> = _dataValidateLiveData
+
+    fun validate(
+        etIin: String, etBirthday: String, etCity: String,
+        etFio: String, etPhoneNumber: String, etLogin: String,
+        etPassword: String, etPatronymic: String, etSurname: String,
+    ) {
+        viewModelScope.launch(Dispatchers.Main) {
+            userRegistrationValidate.validate(etIin, etBirthday, etCity,
+                etFio, etPhoneNumber, etLogin,
+                etPassword, etPatronymic, etSurname).collect {
+                _dataValidateLiveData.value = it
+            }
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/res/drawable-v24/round_fone_icon.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable-v24/round_fone_icon.xml b/app/src/main/res/drawable-v24/round_fone_icon.xml
new file mode 100644
--- /dev/null	(date 1644571842493)
+++ b/app/src/main/res/drawable-v24/round_fone_icon.xml	(date 1644571842493)
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+
+    <solid android:color="#CCFFFFFF"/>
+
+    <stroke
+        android:color="#CCFFFFFF"
+        android:width="1dp"/>
+
+    <corners android:radius="5dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_register.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#EDFCFF\"\r\n    tools:context=\".registeruser.presentation.fragment.RegisterFragment\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/vector\"\r\n                android:layout_width=\"360dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"100dp\"\r\n                android:paddingBottom=\"16dp\"\r\n                android:background=\"@drawable/round_fone\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView\"\r\n                    android:layout_width=\"204dp\"\r\n                    android:layout_height=\"204dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:background=\"@drawable/ic_group_970\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/vector\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/vector\"\r\n                    app:layout_constraintTop_toTopOf=\"@+id/vector\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/text_login\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Регистрация\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"24sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/imageView\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/text_phone_number\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"18dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:text=\"Укажите Ваш номер телефона\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_login\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/editTextPhone\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:digits=\"0123456789+\"\r\n                    android:drawableStart=\"@drawable/ic_group\"\r\n                    android:hint=\"    +7 (705) 559 7335\"\r\n                    android:inputType=\"phone\"\r\n                    android:maxLength=\"10\"\r\n                    android:padding=\"16dp\"\r\n                    android:paddingStart=\"24dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/text_phone_number\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_phone_number\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_phone_number\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/error_otp_code\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:paddingStart=\"24dp\"\r\n                    android:paddingTop=\"8dp\"\r\n                    android:paddingEnd=\"24dp\"\r\n                    android:text=\"Код введён неверно\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"#DA3205\"\r\n                    android:textSize=\"14sp\"\r\n                    android:visibility=\"invisible\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/editTextPhone\" />\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_to_register_email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"16dp\"\r\n                android:textSize=\"16dp\"\r\n                android:textColor=\"#2E58AB\"\r\n                android:text=\"Регистрация через почты\"\r\n                app:layout_constraintEnd_toEndOf=\"@+id/vector\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/vector\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/vector\" />\r\n\r\n            <com.google.android.material.button.MaterialButton\r\n                android:id=\"@+id/send_users_data_button\"\r\n                android:layout_width=\"360dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                app:cornerRadius=\"8dp\"\r\n                android:backgroundTint=\"#2E58AB\"\r\n                android:text=\"Отправить\"\r\n                android:layout_marginTop=\"16dp\"\r\n                app:layout_constraintEnd_toEndOf=\"@+id/tv_to_register_email\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/tv_to_register_email\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/tv_to_register_email\" />\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progressBar\"\r\n        android:layout_width=\"62dp\"\r\n        android:layout_height=\"63dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_register.xml b/app/src/main/res/layout/fragment_register.xml
--- a/app/src/main/res/layout/fragment_register.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/fragment_register.xml	(date 1644573365517)
@@ -8,6 +8,7 @@
     tools:context=".registeruser.presentation.fragment.RegisterFragment">
 
     <ScrollView
+        android:id="@+id/content_scroll"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -22,7 +23,7 @@
 
             <androidx.constraintlayout.widget.ConstraintLayout
                 android:id="@+id/vector"
-                android:layout_width="360dp"
+                android:layout_width="340dp"
                 android:layout_height="wrap_content"
                 android:layout_marginTop="100dp"
                 android:paddingBottom="16dp"
@@ -58,21 +59,18 @@
                     android:id="@+id/text_phone_number"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:layout_marginStart="18dp"
                     android:layout_marginTop="24dp"
                     android:text="Укажите Ваш номер телефона"
                     android:textColor="#616161"
                     android:textSize="16sp"
-                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintStart_toStartOf="@+id/editTextPhone"
                     app:layout_constraintTop_toBottomOf="@+id/text_login" />
 
                 <EditText
                     android:id="@+id/editTextPhone"
-                    android:layout_width="match_parent"
+                    android:layout_width="260dp"
                     android:layout_height="wrap_content"
-                    android:layout_marginStart="16dp"
                     android:layout_marginTop="8dp"
-                    android:layout_marginEnd="16dp"
                     android:background="@drawable/phone_number_round"
                     android:digits="0123456789+"
                     android:drawableStart="@drawable/ic_group"
@@ -81,8 +79,8 @@
                     android:maxLength="10"
                     android:padding="16dp"
                     android:paddingStart="24dp"
-                    app:layout_constraintEnd_toEndOf="@+id/text_phone_number"
-                    app:layout_constraintStart_toStartOf="@+id/text_phone_number"
+                    app:layout_constraintEnd_toEndOf="@+id/imageView"
+                    app:layout_constraintStart_toStartOf="@+id/imageView"
                     app:layout_constraintTop_toBottomOf="@+id/text_phone_number" />
 
                 <TextView
@@ -116,8 +114,8 @@
 
             <com.google.android.material.button.MaterialButton
                 android:id="@+id/send_users_data_button"
-                android:layout_width="360dp"
-                android:layout_height="wrap_content"
+                android:layout_width="340dp"
+                android:layout_height="@dimen/button_height"
                 app:cornerRadius="8dp"
                 android:backgroundTint="#2E58AB"
                 android:text="Отправить"
Index: app/src/main/res/navigation/mobile_navigation.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/mobile_navigation\"\r\n    app:startDestination=\"@+id/navigation_register\">\r\n\r\n    <fragment\r\n        android:id=\"@+id/navigation_home\"\r\n        android:name=\"com.example.testmed.ui.home.HomeFragment\"\r\n        android:label=\"@string/title_home\"\r\n        tools:layout=\"@layout/fragment_home\" />\r\n\r\n    <fragment\r\n        android:id=\"@+id/navigation_dashboard\"\r\n        android:name=\"com.example.testmed.ui.dashboard.DashboardFragment\"\r\n        android:label=\"@string/title_dashboard\"\r\n        tools:layout=\"@layout/fragment_dashboard\" />\r\n\r\n    <fragment\r\n        android:id=\"@+id/navigation_notifications\"\r\n        android:name=\"com.example.testmed.ui.notifications.NotificationsFragment\"\r\n        android:label=\"@string/title_notifications\"\r\n        tools:layout=\"@layout/fragment_notifications\" />\r\n    <fragment\r\n        android:id=\"@+id/navigation_register\"\r\n        android:name=\"com.example.testmed.registeruser.presentation.fragment.RegisterFragment\"\r\n        android:label=\"fragment_register\"\r\n        tools:layout=\"@layout/fragment_register\" >\r\n        <action\r\n            android:id=\"@+id/action_navigation_register_to_enterCodeFragment\"\r\n            app:destination=\"@id/navigation_enter\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/navigation_enter\"\r\n        android:name=\"com.example.testmed.registeruser.presentation.fragment.EnterCodeFragment\"\r\n        android:label=\"fragment_enter_code\"\r\n        tools:layout=\"@layout/fragment_enter_code\" >\r\n        <argument\r\n            android:name=\"id\"\r\n            app:argType=\"string\" />\r\n        <action\r\n            android:id=\"@+id/action_enterCodeFragment_to_userDataSignOutFragment\"\r\n            app:destination=\"@id/navigation_userDataSignOutFragment\" />\r\n        <argument\r\n            android:name=\"phoneNumber\"\r\n            app:argType=\"string\" />\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/navigation_userDataSignOutFragment\"\r\n        android:name=\"com.example.testmed.registeruser.presentation.fragment.UserDataSignOutFragment\"\r\n        android:label=\"fragment_user_data_sign_out\"\r\n        tools:layout=\"@layout/fragment_user_data_sign_out\" >\r\n        <action\r\n            android:id=\"@+id/action_navigation_userDataSignOutFragment_to_navigation_login\"\r\n            app:destination=\"@id/navigation_login\" />\r\n\r\n    </fragment>\r\n    <fragment\r\n        android:id=\"@+id/navigation_login\"\r\n        android:name=\"com.example.testmed.LoginFragment\"\r\n        android:label=\"fragment_login\"\r\n        tools:layout=\"@layout/fragment_login\" >\r\n        <action\r\n            android:id=\"@+id/action_navigation_login_to_navigation_register\"\r\n            app:destination=\"@id/navigation_register\" />\r\n        <argument\r\n            android:name=\"login\"\r\n            app:argType=\"string\"\r\n            android:defaultValue=\"1\" />\r\n\r\n        <argument\r\n            android:name=\"password\"\r\n            app:argType=\"string\"\r\n            android:defaultValue=\"1\" />\r\n        <action\r\n            android:id=\"@+id/action_navigation_login_to_navigation_home\"\r\n            app:destination=\"@id/navigation_home\" />\r\n        <action\r\n            android:id=\"@+id/action_navigation_login_to_navigation_userDataSignOutFragment\"\r\n            app:destination=\"@id/navigation_userDataSignOutFragment\" />\r\n\r\n    </fragment>\r\n</navigation>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/navigation/mobile_navigation.xml b/app/src/main/res/navigation/mobile_navigation.xml
--- a/app/src/main/res/navigation/mobile_navigation.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/navigation/mobile_navigation.xml	(date 1644834960304)
@@ -3,7 +3,7 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:id="@+id/mobile_navigation"
-    app:startDestination="@+id/navigation_register">
+    app:startDestination="@+id/navigation_login">
 
     <fragment
         android:id="@+id/navigation_home"
@@ -12,16 +12,27 @@
         tools:layout="@layout/fragment_home" />
 
     <fragment
-        android:id="@+id/navigation_dashboard"
-        android:name="com.example.testmed.ui.dashboard.DashboardFragment"
-        android:label="@string/title_dashboard"
-        tools:layout="@layout/fragment_dashboard" />
+        android:id="@+id/navigation_chats"
+        android:name="com.example.testmed.ui.dashboard.ChatsFragment"
+        android:label="@string/title_chats"
+        tools:layout="@layout/fragment_chats" />
+
+    <fragment
+        android:id="@+id/navigation_profile"
+        android:name="com.example.testmed.ui.notifications.ProfileFragment"
+        android:label="@string/title_profile"
+        tools:layout="@layout/fragment_profile" >
+        <action
+            android:id="@+id/action_navigation_profile_to_changePatientDataFragment"
+            app:destination="@id/navigation_change_patient_data" />
+    </fragment>
 
     <fragment
-        android:id="@+id/navigation_notifications"
-        android:name="com.example.testmed.ui.notifications.NotificationsFragment"
-        android:label="@string/title_notifications"
-        tools:layout="@layout/fragment_notifications" />
+        android:id="@+id/navigation_clinic"
+        android:name="com.example.testmed.aboutclinic.presentation.ClinicFragment"
+        android:label="@string/title_about_clinic"
+        tools:layout="@layout/fragment_clinic" />
+
     <fragment
         android:id="@+id/navigation_register"
         android:name="com.example.testmed.registeruser.presentation.fragment.RegisterFragment"
@@ -29,23 +40,27 @@
         tools:layout="@layout/fragment_register" >
         <action
             android:id="@+id/action_navigation_register_to_enterCodeFragment"
-            app:destination="@id/navigation_enter" />
+            app:destination="@id/navigation_enter"
+           />
     </fragment>
+
     <fragment
         android:id="@+id/navigation_enter"
         android:name="com.example.testmed.registeruser.presentation.fragment.EnterCodeFragment"
         android:label="fragment_enter_code"
         tools:layout="@layout/fragment_enter_code" >
         <argument
-            android:name="id"
+            android:name="code"
             app:argType="string" />
         <action
             android:id="@+id/action_enterCodeFragment_to_userDataSignOutFragment"
-            app:destination="@id/navigation_userDataSignOutFragment" />
+            app:destination="@id/navigation_userDataSignOutFragment"
+           />
         <argument
             android:name="phoneNumber"
             app:argType="string" />
     </fragment>
+
     <fragment
         android:id="@+id/navigation_userDataSignOutFragment"
         android:name="com.example.testmed.registeruser.presentation.fragment.UserDataSignOutFragment"
@@ -53,12 +68,14 @@
         tools:layout="@layout/fragment_user_data_sign_out" >
         <action
             android:id="@+id/action_navigation_userDataSignOutFragment_to_navigation_login"
-            app:destination="@id/navigation_login" />
+            app:destination="@id/navigation_login"
+            />
 
     </fragment>
+
     <fragment
         android:id="@+id/navigation_login"
-        android:name="com.example.testmed.LoginFragment"
+        android:name="com.example.testmed.login.presentation.fragment.LoginFragment"
         android:label="fragment_login"
         tools:layout="@layout/fragment_login" >
         <action
@@ -75,10 +92,26 @@
             android:defaultValue="1" />
         <action
             android:id="@+id/action_navigation_login_to_navigation_home"
-            app:destination="@id/navigation_home" />
+            app:destination="@id/navigation_home"
+            app:popUpTo="@id/mobile_navigation"
+            app:popUpToInclusive="true" />
         <action
             android:id="@+id/action_navigation_login_to_navigation_userDataSignOutFragment"
             app:destination="@id/navigation_userDataSignOutFragment" />
 
     </fragment>
+    <fragment
+        android:id="@+id/navigation_change_patient_data"
+        android:name="com.example.testmed.ChangePatientDataFragment"
+        android:label="fragment_change_patient_data"
+        tools:layout="@layout/fragment_change_patient_data" >
+        <action
+            android:id="@+id/action_navigation_change_patient_data_to_navigation_profile"
+            app:destination="@id/navigation_profile"
+            app:popUpTo="@id/mobile_navigation"
+            app:popUpToInclusive="true"/>
+
+    </fragment>
+
+
 </navigation>
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/registeruser/presentation/fragment/RegisterFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.presentation.fragment\r\n\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport androidx.core.view.isVisible\r\nimport androidx.core.widget.doAfterTextChanged\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.navigation.fragment.findNavController\r\nimport by.kirich1409.viewbindingdelegate.viewBinding\r\nimport com.example.testmed.MainActivity\r\nimport com.example.testmed.PHONE_NUMBER\r\nimport com.example.testmed.R\r\nimport com.example.testmed.base.BaseFragment\r\nimport com.example.testmed.databinding.FragmentRegisterBinding\r\nimport com.example.testmed.hideKeyboard\r\nimport com.example.testmed.registeruser.domain.usecase.UIValidationState\r\nimport com.example.testmed.registeruser.presentation.PhoneTextFormatter\r\nimport com.example.testmed.registeruser.presentation.viewmodel.RegisterViewModel\r\nimport org.koin.androidx.viewmodel.ext.android.viewModel\r\n\r\n\r\nclass RegisterFragment : BaseFragment<FragmentRegisterBinding>(FragmentRegisterBinding::inflate) {\r\n\r\n    private lateinit var phoneNumber: String\r\n    private val registerViewModel: RegisterViewModel by viewModel()\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        binding.tvToRegisterEmail.setOnClickListener {\r\n            findNavController().navigate(R.id.navigation_userDataSignOutFragment)\r\n        }\r\n\r\n        binding.apply {\r\n            editTextPhone.addTextChangedListener(PhoneTextFormatter(editTextPhone,\r\n                \"+# (###) ###-####\"))\r\n\r\n            editTextPhone.doAfterTextChanged {\r\n                if (it?.length == 17) {\r\n                    view.hideKeyboard()\r\n                }\r\n            }\r\n        }\r\n\r\n        registerViewModel.onCodeSent()\r\n        registerViewModel.onCodeSent.observe(viewLifecycleOwner) { code ->\r\n            if (code == \"\") {\r\n                binding.textLogin.text = \"Регистрация\"\r\n            } else {\r\n                binding.textLogin.text = code\r\n                val action =\r\n                    RegisterFragmentDirections.actionNavigationRegisterToEnterCodeFragment(\r\n                        code, binding.editTextPhone.text.toString())\r\n                findNavController().navigate(action)\r\n            }\r\n        }\r\n\r\n        binding.sendUsersDataButton.setOnClickListener {\r\n            phoneNumber = binding.editTextPhone.text.toString()\r\n            it.hideKeyboard()\r\n            registerViewModel.validate(phoneNumber = phoneNumber)\r\n            registerViewModel.uiValidateLiveData.observe(viewLifecycleOwner) { uiState ->\r\n                when (uiState) {\r\n                    is UIValidationState.IsEmpty -> {\r\n                        binding.editTextPhone.apply {\r\n                            error = uiState.errorMessage\r\n                            requestFocus()\r\n                        }\r\n                    }\r\n                    is UIValidationState.PhoneNumberLess -> {\r\n                        binding.editTextPhone.apply {\r\n                            error = uiState.errorMessage\r\n                            requestFocus()\r\n                        }\r\n                    }\r\n                    else -> {\r\n                        invisibleData()\r\n                        val regex = Regex(\"[^+0-9]\")\r\n                        val result = regex.replace(phoneNumber, \"\")\r\n                        PHONE_NUMBER = result\r\n                        registerViewModel.authUser(result, requireActivity() as MainActivity)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun invisibleData() {\r\n        binding.apply {\r\n            vector.isVisible = false\r\n            progressBar.isVisible = true\r\n            editTextPhone.isVisible = false\r\n            textLogin.isVisible = false\r\n            sendUsersDataButton.isVisible = false\r\n            textPhoneNumber.isVisible = false\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/RegisterFragment.kt b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/RegisterFragment.kt
--- a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/RegisterFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/RegisterFragment.kt	(date 1644466520318)
@@ -4,9 +4,7 @@
 import android.view.View
 import androidx.core.view.isVisible
 import androidx.core.widget.doAfterTextChanged
-import androidx.fragment.app.Fragment
 import androidx.navigation.fragment.findNavController
-import by.kirich1409.viewbindingdelegate.viewBinding
 import com.example.testmed.MainActivity
 import com.example.testmed.PHONE_NUMBER
 import com.example.testmed.R
@@ -45,13 +43,13 @@
         registerViewModel.onCodeSent()
         registerViewModel.onCodeSent.observe(viewLifecycleOwner) { code ->
             if (code == "") {
-                binding.textLogin.text = "Регистрация"
+                binding.editTextPhone.requestFocus()
             } else {
-                binding.textLogin.text = code
-                val action =
-                    RegisterFragmentDirections.actionNavigationRegisterToEnterCodeFragment(
-                        code, binding.editTextPhone.text.toString())
-                findNavController().navigate(action)
+            binding.textLogin.text = code
+            val action =
+                RegisterFragmentDirections.actionNavigationRegisterToEnterCodeFragment(
+                    code, PHONE_NUMBER)
+            findNavController().navigate(action)
             }
         }
 
@@ -61,18 +59,21 @@
             registerViewModel.validate(phoneNumber = phoneNumber)
             registerViewModel.uiValidateLiveData.observe(viewLifecycleOwner) { uiState ->
                 when (uiState) {
+
                     is UIValidationState.IsEmpty -> {
                         binding.editTextPhone.apply {
                             error = uiState.errorMessage
                             requestFocus()
                         }
                     }
+
                     is UIValidationState.PhoneNumberLess -> {
                         binding.editTextPhone.apply {
                             error = uiState.errorMessage
                             requestFocus()
                         }
                     }
+
                     else -> {
                         invisibleData()
                         val regex = Regex("[^+0-9]")
@@ -93,6 +94,7 @@
             textLogin.isVisible = false
             sendUsersDataButton.isVisible = false
             textPhoneNumber.isVisible = false
+            tvToRegisterEmail.isVisible = false
         }
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_user_data_sign_out.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#EDFCFF\"\r\n    tools:context=\".registeruser.presentation.fragment.UserDataSignOutFragment\">\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progressBar\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"300dp\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/constraint_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/text_register\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"18dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:text=\"Данные о пациенте\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"#27214D\"\r\n                android:textSize=\"20sp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:background=\"@drawable/round_fone\"\r\n                android:paddingTop=\"16dp\"\r\n                android:paddingBottom=\"16dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/text_register\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/text_iin\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:text=\"ИИН\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_iin\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:digits=\"0123456789\"\r\n                    android:hint=\"980819000432\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"12\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/text_iin\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_iin\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_fio\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Имя\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_iin\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_iin\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_fio\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"Артем\"\r\n                    android:inputType=\"textPersonName\"\r\n                    android:maxLength=\"20\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_fio\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_fio\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_fio\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_lastname\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Фамилия\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_fio\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_fio\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_surname\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"Артемов\"\r\n                    android:inputType=\"textPersonName\"\r\n                    android:maxLength=\"20\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_lastname\"\r\n                    app:layout_constraintHorizontal_bias=\"0.226\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_lastname\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_lastname\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_patronymic\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Отчество\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_surname\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_surname\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_patronymic\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"Артемович\"\r\n                    android:inputType=\"textPersonName\"\r\n                    android:maxLength=\"20\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_patronymic\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_patronymic\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_patronymic\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_city\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Адрес проживания\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_patronymic\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_patronymic\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_city\"\r\n                    style=\"@style/Widget.AppCompat.EditText\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"ул куйбышевская 12\"\r\n                    android:maxLength=\"30\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_city\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_city\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_city\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_birthday\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Дата рождения\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_city\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_city\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_birthday\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"52dp\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"12.08.2010\"\r\n                    android:focusable=\"false\"\r\n                    android:clickable=\"true\"\r\n                    android:cursorVisible=\"false\"\r\n                    android:focusableInTouchMode=\"false\"\r\n                    android:inputType=\"date\"\r\n                    android:maxLength=\"50\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_birthday\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_birthday\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_birthday\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_gender\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Пол\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_birthday\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_birthday\" />\r\n\r\n                <Spinner\r\n                    android:id=\"@+id/et_gender\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"52dp\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_gender\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_gender\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_gender\"\r\n                    tools:ignore=\"SpeakableTextPresentCheck\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_phone_number\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Номер телефона\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_gender\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_gender\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_phone_number\"\r\n                    style=\"@style/Widget.AppCompat.EditText\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"+7 705 559 7335\"\r\n                    android:inputType=\"phone\"\r\n                    android:maxLines=\"1\"\r\n                    android:maxLength=\"12\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_phone_number\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_gender\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_phone_number\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_login\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Логин\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_phone_number\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_phone_number\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_login\"\r\n                    style=\"@style/Widget.AppCompat.EditText\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"seoleo96@gmail.com\"\r\n                    android:inputType=\"textEmailAddress\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_login\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_gender\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_login\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_password\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"Пароль\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_login\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_iin\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_login\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_password\"\r\n                    style=\"@style/Widget.AppCompat.EditText\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"2dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"123456\"\r\n                    android:inputType=\"textVisiblePassword\"\r\n                    android:maxLines=\"1\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/tv_password\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/tv_gender\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/tv_password\"\r\n                    tools:ignore=\"TextFields\" />\r\n\r\n                <View\r\n                    android:id=\"@+id/select_photo\"\r\n                    android:layout_width=\"50dp\"\r\n                    android:layout_height=\"50dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@drawable/ic_baseline_add_a_photo_24\"\r\n                    android:padding=\"8dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_password\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_password\" />\r\n\r\n                <com.google.android.material.button.MaterialButton\r\n                    android:id=\"@+id/send_users_data_button\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:backgroundTint=\"#2E58AB\"\r\n                    android:text=\"Отправить\"\r\n                    app:cornerRadius=\"8dp\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/select_photo\" />\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_user_data_sign_out.xml b/app/src/main/res/layout/fragment_user_data_sign_out.xml
--- a/app/src/main/res/layout/fragment_user_data_sign_out.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/fragment_user_data_sign_out.xml	(date 1644570958581)
@@ -5,7 +5,7 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    android:background="#EDFCFF"
+    android:background="@color/background_root"
     tools:context=".registeruser.presentation.fragment.UserDataSignOutFragment">
 
     <ProgressBar
@@ -20,7 +20,7 @@
 
 
     <ScrollView
-        android:id="@+id/scrollView2"
+        android:id="@+id/content_all_view"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -357,14 +357,13 @@
                     app:layout_constraintTop_toBottomOf="@+id/tv_password"
                     tools:ignore="TextFields" />
 
-                <View
+                <ImageView
                     android:id="@+id/select_photo"
                     android:layout_width="50dp"
                     android:layout_height="50dp"
-                    android:layout_marginTop="8dp"
+                    android:layout_marginTop="16dp"
                     android:layout_marginEnd="8dp"
                     android:background="@drawable/ic_baseline_add_a_photo_24"
-                    android:padding="8dp"
                     app:layout_constraintEnd_toEndOf="@+id/et_password"
                     app:layout_constraintTop_toBottomOf="@+id/et_password" />
 
Index: app/src/main/java/com/example/testmed/LoginFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/LoginFragment.kt b/app/src/main/java/com/example/testmed/login/presentation/fragment/LoginFragment.kt
rename from app/src/main/java/com/example/testmed/LoginFragment.kt
rename to app/src/main/java/com/example/testmed/login/presentation/fragment/LoginFragment.kt
--- a/app/src/main/java/com/example/testmed/LoginFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/login/presentation/fragment/LoginFragment.kt	(date 1644573152389)
@@ -1,12 +1,12 @@
-package com.example.testmed
+package com.example.testmed.login.presentation.fragment
 
 import android.os.Bundle
-import android.view.LayoutInflater
+import android.util.Log
 import android.view.View
-import android.view.ViewGroup
-import androidx.fragment.app.Fragment
+import androidx.core.view.isVisible
 import androidx.navigation.fragment.findNavController
 import androidx.navigation.fragment.navArgs
+import com.example.testmed.*
 import com.example.testmed.base.BaseFragment
 import com.example.testmed.databinding.FragmentLoginBinding
 import com.google.firebase.auth.FirebaseAuthInvalidCredentialsException
@@ -18,6 +18,17 @@
 
     private val args: LoginFragmentArgs? by navArgs()
 
+//    override fun onStart() {
+//        super.onStart()
+//        if (AUTH.currentUser != null){
+//            navigateToHome()
+//        }
+//    }
+
+    private fun navigateToHome() {
+        findNavController().navigate(R.id.action_navigation_login_to_navigation_home)
+    }
+
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
         setEditTexts()
@@ -26,19 +37,31 @@
         }
 
         binding.sendUsersDataButton.setOnClickListener {
+            binding.contentScroll.isVisible = false
+            binding.progressBar.isVisible = true
+            it.hideKeyboard()
             signInWithEmail()
         }
     }
 
+    private fun invisibleContent() {
+        binding.contentScroll.isVisible = true
+        binding.progressBar.isVisible = false
+    }
+
     private fun signInWithEmail() {
         if (binding.etLogin.text.isNotEmpty()) {
-            AUTH.signInWithEmailAndPassword(binding.etLogin.text.toString(),
-                binding.etPassword.text.toString())
+            AUTH.signInWithEmailAndPassword(
+                binding.etLogin.text.toString(),
+                binding.etPassword.text.toString()
+            )
                 .addOnCompleteListener { task ->
                     if (task.isSuccessful) {
-                        findNavController().navigate(R.id.action_navigation_login_to_navigation_home)
+                        invisibleContent()
+                        navigateToHome()
                     } else {
                         invisibleProgress(binding.progressBar)
+                        invisibleContent()
                         try {
                             throw Objects.requireNonNull<Exception>(task.exception)
                         } catch (existEmail: FirebaseAuthUserCollisionException) {
@@ -52,12 +75,12 @@
                             showSnackbar("Недействительные учетные данные, попробуйте еще раз.")
                             binding.etLogin.requestFocus()
                         } catch (e: Exception) {
-                            showSnackbar("Регистрация не удалась. Попробуйте снова.")
+                            showSnackbar("Логин не совпадает. Попробуйте снова.")
                             binding.etLogin.requestFocus()
                         }
                     }
                 }
-        }else{
+        } else {
             binding.etLogin.requestFocus()
         }
     }
Index: app/src/main/java/com/example/testmed/Util.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed\r\n\r\n\r\nimport android.content.Context\r\nimport android.view.View\r\nimport android.view.inputmethod.InputMethodManager\r\nimport android.widget.ProgressBar\r\nimport android.widget.Toast\r\nimport androidx.core.view.isVisible\r\nimport androidx.fragment.app.Fragment\r\nimport com.google.android.material.snackbar.Snackbar\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.database.FirebaseDatabase\r\n\r\n\r\nfun View.hideKeyboard() {\r\n    val imm = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n    imm.hideSoftInputFromWindow(windowToken, 0)\r\n}\r\n\r\ninline fun Context.toast(message: () -> String) {\r\n    Toast.makeText(this, message(), Toast.LENGTH_LONG).show()\r\n}\r\n\r\ninline fun Fragment.showSnackbar(msg : String){\r\n    Snackbar.make(requireView(),\r\n        msg,\r\n        Snackbar.LENGTH_SHORT).show()\r\n}\r\n\r\nval AUTH: FirebaseAuth by lazy {\r\n    FirebaseAuth.getInstance()\r\n}\r\n\r\nval UID: String by lazy {\r\n    AUTH.currentUser?.uid!!\r\n}\r\n\r\nval DB: FirebaseDatabase by lazy {\r\n    FirebaseDatabase.getInstance()\r\n}\r\n\r\nvar PHONE_NUMBER = \"\"\r\n\r\nfun Fragment.visibleProgress(progressBar: ProgressBar){\r\n    progressBar.isVisible = true\r\n}\r\n\r\nfun Fragment.invisibleProgress(progressBar: ProgressBar) {\r\n    progressBar.isVisible = false\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/Util.kt b/app/src/main/java/com/example/testmed/Util.kt
--- a/app/src/main/java/com/example/testmed/Util.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/Util.kt	(date 1644830738949)
@@ -10,7 +10,10 @@
 import androidx.fragment.app.Fragment
 import com.google.android.material.snackbar.Snackbar
 import com.google.firebase.auth.FirebaseAuth
+import com.google.firebase.auth.FirebaseUser
 import com.google.firebase.database.FirebaseDatabase
+import com.google.firebase.storage.FirebaseStorage
+import com.google.firebase.storage.StorageReference
 
 
 fun View.hideKeyboard() {
@@ -22,7 +25,7 @@
     Toast.makeText(this, message(), Toast.LENGTH_LONG).show()
 }
 
-inline fun Fragment.showSnackbar(msg : String){
+inline fun Fragment.showSnackbar(msg: String) {
     Snackbar.make(requireView(),
         msg,
         Snackbar.LENGTH_SHORT).show()
@@ -36,13 +39,22 @@
     AUTH.currentUser?.uid!!
 }
 
+val CURRENT_USER: FirebaseUser by lazy {
+    AUTH.currentUser!!
+}
+
+
 val DB: FirebaseDatabase by lazy {
     FirebaseDatabase.getInstance()
 }
 
+val REF_STORAGE_ROOT: StorageReference by lazy {
+    FirebaseStorage.getInstance().reference
+}
+
 var PHONE_NUMBER = ""
 
-fun Fragment.visibleProgress(progressBar: ProgressBar){
+fun Fragment.visibleProgress(progressBar: ProgressBar) {
     progressBar.isVisible = true
 }
 
Index: app/src/main/java/com/example/testmed/registeruser/presentation/fragment/UserDataSignOutFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.presentation.fragment\r\n\r\nimport android.app.DatePickerDialog\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.View\r\nimport android.widget.*\r\nimport androidx.core.widget.doAfterTextChanged\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.example.testmed.*\r\nimport com.example.testmed.base.BaseFragment\r\nimport com.example.testmed.databinding.FragmentUserDataSignOutBinding\r\nimport com.example.testmed.model.PatientData\r\nimport com.google.firebase.auth.FirebaseAuthInvalidCredentialsException\r\nimport com.google.firebase.auth.FirebaseAuthUserCollisionException\r\nimport com.google.firebase.auth.FirebaseAuthWeakPasswordException\r\nimport com.google.firebase.database.DataSnapshot\r\nimport com.google.firebase.database.DatabaseError\r\nimport com.google.firebase.database.ValueEventListener\r\nimport java.util.*\r\n\r\n\r\nclass UserDataSignOutFragment :\r\n    BaseFragment<FragmentUserDataSignOutBinding>(FragmentUserDataSignOutBinding::inflate) {\r\n\r\n    private lateinit var spinner: Spinner\r\n    private var personNames = emptyArray<String>()\r\n    private var birthday = \"\"\r\n    private var gender = \"\"\r\n    private var cal = Calendar.getInstance()\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        setSpinnerGender()\r\n        setDatePicker()\r\n        listeners()\r\n    }\r\n\r\n    private fun setDatePicker() {\r\n        binding.etBirthday.setOnClickListener {\r\n            val y = cal.get(Calendar.YEAR)\r\n            val m = cal.get(Calendar.MONTH)\r\n            val d = cal.get(Calendar.DAY_OF_MONTH)\r\n            val datePickerDialog =\r\n                DatePickerDialog(requireContext(), { _, year, monthOfYear, dayOfMonth ->\r\n                    cal.set(Calendar.YEAR, year)\r\n                    cal.set(Calendar.MONTH, monthOfYear)\r\n                    cal.set(Calendar.DAY_OF_MONTH, dayOfMonth)\r\n                    cal.get(Calendar.YEAR)\r\n                    cal.get(Calendar.MONTH)\r\n                    cal.get(Calendar.DAY_OF_MONTH)\r\n                    birthday = \"$dayOfMonth.${monthOfYear}.$year\"\r\n                    val age = getAge(year, monthOfYear, dayOfMonth)\r\n                    if (checkAge(age)) {\r\n                        binding.etBirthday.setText(birthday)\r\n                    } else {\r\n                        binding.etBirthday.error = \"Пациенту нет 18.\"\r\n                    }\r\n\r\n                }, y, m, d)\r\n\r\n            datePickerDialog.show()\r\n        }\r\n    }\r\n\r\n    private fun checkAge(age: Int): Boolean {\r\n        if (age >= 18)\r\n            return true\r\n        return false\r\n    }\r\n\r\n    private fun getAge(year: Int, month: Int, day: Int): Int {\r\n        val dob: Calendar = Calendar.getInstance()\r\n        val today = Calendar.getInstance()\r\n        dob[year, month] = day\r\n        var age = today[Calendar.YEAR] - dob[Calendar.YEAR]\r\n        if (today[Calendar.DAY_OF_YEAR] < dob[Calendar.DAY_OF_YEAR]) {\r\n            age--\r\n        }\r\n        return age\r\n    }\r\n\r\n    private fun setSpinnerGender() {\r\n        spinner = binding.etGender\r\n        personNames = arrayOf(\"Мужской\", \"Женской\")\r\n        val arrayAdapter =\r\n            ArrayAdapter(requireContext(),\r\n                android.R.layout.simple_spinner_dropdown_item,\r\n                personNames)\r\n        spinner.adapter = arrayAdapter\r\n        setGender()\r\n    }\r\n\r\n    private fun listeners() {\r\n        binding.sendUsersDataButton.setOnClickListener {\r\n            usersData()\r\n        }\r\n//        binding.selectPhoto.setOnClickListener {\r\n//            val currentUser = AUTH.currentUser!!.uid\r\n//            requireView().showSnackbar(currentUser)\r\n//        }\r\n\r\n//        binding.selectPhoto.setOnLongClickListener {\r\n//            val email = \"seoleo96@gmail.com\"\r\n//            val password = \"123456\"\r\n//            AUTH.signInWithEmailAndPassword(email, password).addOnCompleteListener { task ->\r\n//                if (task.isSuccessful) {\r\n//                    val id = AUTH.currentUser!!.uid\r\n//                    requireView().showSnackbar(id)\r\n//                    lifecycleScope.launch { delay(1000) }\r\n//\r\n//                    DB.getReference(\"/patients/$id\")\r\n//                        .addValueEventListener(object : ValueEventListener {\r\n//                            override fun onDataChange(snapshot: DataSnapshot) {\r\n//\r\n//                                val number = snapshot.getValue(PatientData::class.java)\r\n//                                requireView().showSnackbar(number.toString())\r\n//                                DB.reference.child(\"current_user\").setValue(number)\r\n//                            }\r\n//\r\n//                            override fun onCancelled(error: DatabaseError) {\r\n//                                TODO(\"Not yet implemented\")\r\n//                            }\r\n//                        })\r\n//                }\r\n//            }\r\n//            true\r\n//        }\r\n    }\r\n\r\n\r\n    private fun usersData() {\r\n        visibleProgress(binding.progressBar)\r\n        binding.apply {\r\n            if (etIin.text.isEmpty() && etBirthday.text.isEmpty() && etCity.text.isEmpty() &&\r\n                etFio.text.isEmpty() && etLogin.text.isEmpty() &&\r\n                etPassword.text.isEmpty() && etPatronymic.text.isEmpty() && etSurname.text.isEmpty()\r\n            ) {\r\n                invisibleProgress(binding.progressBar)\r\n                showSnackbar(\"Запольните всех полей\")\r\n                etIin.requestFocus()\r\n            } else if (etIin.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etIin)\r\n            } else if (etIin.text.length < 12) {\r\n                invisibleProgress(binding.progressBar)\r\n                etIin.error = \"ИИН 12 цифр, попробуйте еще раз\"\r\n            } else if (etFio.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etFio)\r\n            } else if (etSurname.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etSurname)\r\n            } else if (etPatronymic.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etPatronymic)\r\n            } else if (etCity.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etCity)\r\n            } else if (etBirthday.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etBirthday)\r\n            } else if (etPhoneNumber.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etPhoneNumber)\r\n            } else if (etPhoneNumber.text.length < 12) {\r\n                invisibleProgress(binding.progressBar)\r\n                etPhoneNumber.error = \"Номер телефона не соответсвует, попробуйте еще раз\"\r\n            } else if (etLogin.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etLogin)\r\n            } else if (etPassword.text.isEmpty()) {\r\n                invisibleProgress(binding.progressBar)\r\n                errorEditsTexts(etPassword)\r\n            } else {\r\n                requireView().hideKeyboard()\r\n                createPatientWithEmail(etLogin.text.toString(),\r\n                    etPassword.text.toString())\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun createPatientWithEmail(login: String, password: String) {\r\n        AUTH.createUserWithEmailAndPassword(login, password).addOnCompleteListener { value ->\r\n            if (value.isSuccessful) {\r\n                saveUsersData()\r\n            } else {\r\n                invisibleProgress(binding.progressBar)\r\n                try {\r\n                    throw Objects.requireNonNull<Exception>(value.exception)\r\n                } catch (existEmail: FirebaseAuthUserCollisionException) {\r\n                    binding.etLogin.error = \"Идентификатор электронной почты уже существует.\"\r\n                    binding.etLogin.requestFocus()\r\n                } catch (weakPassword: FirebaseAuthWeakPasswordException) {\r\n                    binding.etPassword.error = \"Длина пароля должна быть более шести символов.\"\r\n                    binding.etPassword.requestFocus()\r\n                } catch (malformedEmail: FirebaseAuthInvalidCredentialsException) {\r\n                    binding.etLogin.requestFocus()\r\n                    binding.etLogin.error = \"Недействительные учетные данные, попробуйте еще раз.\"\r\n                } catch (e: Exception) {\r\n                    binding.etIin.requestFocus()\r\n                    binding.etIin.error = \"Регистрация не удалась. Попробуйте снова.\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun saveUsersData() {\r\n        val id = AUTH.currentUser!!.uid\r\n        val iin = binding.etIin.text.toString()\r\n        val name = binding.etFio.text.toString()\r\n        val surname = binding.etSurname.text.toString()\r\n        val patronymic = binding.etPatronymic.text.toString()\r\n        val address = binding.etCity.text.toString()\r\n        val login = binding.etLogin.text.toString()\r\n        val password = binding.etPassword.text.toString()\r\n        PHONE_NUMBER =\r\n            if (PHONE_NUMBER.isEmpty()) binding.etPhoneNumber.text.toString() else PHONE_NUMBER\r\n        val photoUrl = \"\"\r\n        val patient = PatientData(\r\n            id,\r\n            iin,\r\n            name,\r\n            surname,\r\n            patronymic,\r\n            address,\r\n            birthday,\r\n            gender,\r\n            login,\r\n            password,\r\n            PHONE_NUMBER,\r\n            photoUrl)\r\n        DB.reference.child(\"patients\").child(id).setValue(patient).addOnCompleteListener { task ->\r\n            if (task.isSuccessful) {\r\n                invisibleProgress(binding.progressBar)\r\n                val action =\r\n                    UserDataSignOutFragmentDirections\r\n                        .actionNavigationUserDataSignOutFragmentToNavigationLogin()\r\n                action.login = login\r\n                action.password = password\r\n                findNavController().navigate(action)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private fun setGender() {\r\n\r\n        spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\r\n            override fun onItemSelected(p0: AdapterView<*>?, p1: View?, p2: Int, p3: Long) {\r\n                gender = personNames[p2]\r\n            }\r\n\r\n            override fun onNothingSelected(p0: AdapterView<*>?) {\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun errorEditsTexts(et: EditText) {\r\n        et.apply {\r\n            requestFocus()\r\n            error = \"Это обезятельное поле\"\r\n        }\r\n    }\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/UserDataSignOutFragment.kt b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/UserDataSignOutFragment.kt
--- a/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/UserDataSignOutFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/presentation/fragment/UserDataSignOutFragment.kt	(date 1644813756494)
@@ -1,22 +1,30 @@
 package com.example.testmed.registeruser.presentation.fragment
 
+import android.app.Activity
 import android.app.DatePickerDialog
+import android.net.Uri
 import android.os.Bundle
 import android.util.Log
 import android.view.View
 import android.widget.*
-import androidx.core.widget.doAfterTextChanged
+import androidx.activity.result.contract.ActivityResultContracts
+import androidx.core.view.isVisible
+import androidx.lifecycle.lifecycleScope
 import androidx.navigation.fragment.findNavController
 import com.example.testmed.*
 import com.example.testmed.base.BaseFragment
 import com.example.testmed.databinding.FragmentUserDataSignOutBinding
 import com.example.testmed.model.PatientData
+import com.example.testmed.registeruser.domain.usecase.UserRegisterState
+import com.example.testmed.registeruser.domain.usecase.UserRegistrationValidate
+import com.example.testmed.registeruser.presentation.viewmodel.UserDataSignOutViewModel
+import com.google.android.material.snackbar.Snackbar
 import com.google.firebase.auth.FirebaseAuthInvalidCredentialsException
 import com.google.firebase.auth.FirebaseAuthUserCollisionException
 import com.google.firebase.auth.FirebaseAuthWeakPasswordException
-import com.google.firebase.database.DataSnapshot
-import com.google.firebase.database.DatabaseError
-import com.google.firebase.database.ValueEventListener
+import com.theartofdev.edmodo.cropper.CropImage
+import com.theartofdev.edmodo.cropper.CropImageView
+import kotlinx.coroutines.launch
 import java.util.*
 
 
@@ -24,16 +32,96 @@
     BaseFragment<FragmentUserDataSignOutBinding>(FragmentUserDataSignOutBinding::inflate) {
 
     private lateinit var spinner: Spinner
+    private var uri: Uri? = null
     private var personNames = emptyArray<String>()
     private var birthday = ""
     private var gender = ""
     private var cal = Calendar.getInstance()
+    private lateinit var viewModel: UserDataSignOutViewModel
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
+        val userRegistrationValidate = UserRegistrationValidate()
+        viewModel = UserDataSignOutViewModel(userRegistrationValidate)
         setSpinnerGender()
         setDatePicker()
         listeners()
+        setPhoneNumber()
+        changePhotoUser()
+    }
+
+    private var launchSomeActivity =
+        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
+            if (result.resultCode == Activity.RESULT_OK && result.data != null) {
+                uri = CropImage.getActivityResult(result.data).uri
+                binding.selectPhoto.background = null
+                binding.selectPhoto.setImageURI(uri)
+            }
+        }
+
+    private fun tryOne() {
+        Snackbar.make(binding.root,
+            "Попробуйте еще раз.",
+            Snackbar.LENGTH_SHORT).show()
+    }
+
+    private fun savePhoto(login: String, password: String) {
+        val path =
+            REF_STORAGE_ROOT.child("images").child(DB.reference.push().key.toString())
+        path.putFile(uri!!)
+            .addOnCompleteListener { task1 ->
+                if (task1.isSuccessful) {
+                    path.downloadUrl.addOnCompleteListener { task2 ->
+                        if (task2.isSuccessful) {
+                            val photoUrl = task2.result.toString()
+                            DB.getReference("/patients/$UID/photoUrl").setValue(photoUrl)
+                                .addOnCompleteListener {
+                                    if (it.isSuccessful) {
+                                        invisibleAllViews()
+                                        navigateToLogin(login, password)
+                                    } else {
+                                        tryOne()
+                                    }
+                                }
+                        } else {
+                            tryOne()
+                        }
+                    }
+                } else {
+                    tryOne()
+                }
+            }
+            .addOnProgressListener {
+                binding.progressBar.isVisible = true
+                binding.contentAllView.isVisible = false
+            }
+    }
+
+    private fun navigateToLogin(login: String, password: String) {
+        val action =
+            UserDataSignOutFragmentDirections
+                .actionNavigationUserDataSignOutFragmentToNavigationLogin()
+        action.login = login
+        action.password = password
+        findNavController().navigate(action)
+    }
+
+    private fun setPhoneNumber() {
+        if (PHONE_NUMBER.isEmpty())
+            PHONE_NUMBER = binding.etPhoneNumber.text.toString()
+        else
+            binding.etPhoneNumber.setText(PHONE_NUMBER)
+    }
+
+    private fun changePhotoUser() {
+        binding.selectPhoto.setOnClickListener {
+            val intent = CropImage.activity()
+                .setAspectRatio(1, 1)
+                .setRequestedSize(600, 600)
+                .setCropShape(CropImageView.CropShape.OVAL)
+                .getIntent(activity as MainActivity)
+            launchSomeActivity.launch(intent)
+        }
     }
 
     private fun setDatePicker() {
@@ -50,24 +138,19 @@
                     cal.get(Calendar.MONTH)
                     cal.get(Calendar.DAY_OF_MONTH)
                     birthday = "$dayOfMonth.${monthOfYear}.$year"
-                    val age = getAge(year, monthOfYear, dayOfMonth)
+                    val age: Int = getAge(year, monthOfYear, dayOfMonth)
                     if (checkAge(age)) {
                         binding.etBirthday.setText(birthday)
                     } else {
-                        binding.etBirthday.error = "Пациенту нет 18."
+                        showSnackbar("Пациенту нет 18.")
                     }
-
                 }, y, m, d)
 
             datePickerDialog.show()
         }
     }
 
-    private fun checkAge(age: Int): Boolean {
-        if (age >= 18)
-            return true
-        return false
-    }
+    private fun checkAge(age: Int) = age >= 18
 
     private fun getAge(year: Int, month: Int, day: Int): Int {
         val dob: Calendar = Calendar.getInstance()
@@ -95,127 +178,142 @@
         binding.sendUsersDataButton.setOnClickListener {
             usersData()
         }
-//        binding.selectPhoto.setOnClickListener {
-//            val currentUser = AUTH.currentUser!!.uid
-//            requireView().showSnackbar(currentUser)
-//        }
+    }
 
-//        binding.selectPhoto.setOnLongClickListener {
-//            val email = "seoleo96@gmail.com"
-//            val password = "123456"
-//            AUTH.signInWithEmailAndPassword(email, password).addOnCompleteListener { task ->
-//                if (task.isSuccessful) {
-//                    val id = AUTH.currentUser!!.uid
-//                    requireView().showSnackbar(id)
-//                    lifecycleScope.launch { delay(1000) }
-//
-//                    DB.getReference("/patients/$id")
-//                        .addValueEventListener(object : ValueEventListener {
-//                            override fun onDataChange(snapshot: DataSnapshot) {
-//
-//                                val number = snapshot.getValue(PatientData::class.java)
-//                                requireView().showSnackbar(number.toString())
-//                                DB.reference.child("current_user").setValue(number)
-//                            }
-//
-//                            override fun onCancelled(error: DatabaseError) {
-//                                TODO("Not yet implemented")
-//                            }
-//                        })
-//                }
-//            }
-//            true
-//        }
+    private fun invisibleAllViews() {
+        binding.contentAllView.isVisible = false
     }
 
+    private fun visibleAllViews() {
+        binding.contentAllView.isVisible = true
+    }
 
     private fun usersData() {
         visibleProgress(binding.progressBar)
-        binding.apply {
-            if (etIin.text.isEmpty() && etBirthday.text.isEmpty() && etCity.text.isEmpty() &&
-                etFio.text.isEmpty() && etLogin.text.isEmpty() &&
-                etPassword.text.isEmpty() && etPatronymic.text.isEmpty() && etSurname.text.isEmpty()
-            ) {
-                invisibleProgress(binding.progressBar)
-                showSnackbar("Запольните всех полей")
-                etIin.requestFocus()
-            } else if (etIin.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etIin)
-            } else if (etIin.text.length < 12) {
-                invisibleProgress(binding.progressBar)
-                etIin.error = "ИИН 12 цифр, попробуйте еще раз"
-            } else if (etFio.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etFio)
-            } else if (etSurname.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etSurname)
-            } else if (etPatronymic.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etPatronymic)
-            } else if (etCity.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etCity)
-            } else if (etBirthday.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etBirthday)
-            } else if (etPhoneNumber.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etPhoneNumber)
-            } else if (etPhoneNumber.text.length < 12) {
-                invisibleProgress(binding.progressBar)
-                etPhoneNumber.error = "Номер телефона не соответсвует, попробуйте еще раз"
-            } else if (etLogin.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etLogin)
-            } else if (etPassword.text.isEmpty()) {
-                invisibleProgress(binding.progressBar)
-                errorEditsTexts(etPassword)
-            } else {
-                requireView().hideKeyboard()
-                createPatientWithEmail(etLogin.text.toString(),
-                    etPassword.text.toString())
+        invisibleAllViews()
+        viewModel.validate(
+            binding.etIin.text.toString(),
+            binding.etBirthday.text.toString(),
+            binding.etCity.text.toString(),
+            binding.etFio.text.toString(),
+            binding.etPhoneNumber.text.toString(),
+            binding.etLogin.text.toString(),
+            binding.etPassword.text.toString(),
+            binding.etPatronymic.text.toString(),
+            binding.etSurname.text.toString())
+        viewModel.dataValidateLiveData.observe(viewLifecycleOwner, { userRegisterState ->
+            when (userRegisterState) {
+                is UserRegisterState.AllDataEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    showSnackbar(userRegisterState.errorMessage)
+                    binding.etIin.requestFocus()
+                }
+                is UserRegisterState.IinEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etIin)
+                }
+                is UserRegisterState.IinLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etIin.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.FIOEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etFio)
+                }
+                is UserRegisterState.SurnameEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etSurname)
+                }
+                is UserRegisterState.PatronymicEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPatronymic)
+                }
+                is UserRegisterState.CitEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etCity)
+                }
+                is UserRegisterState.BirthdayEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etBirthday)
+                }
+                is UserRegisterState.PhoneNumberEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPhoneNumber)
+                }
+                is UserRegisterState.PhoneNumberLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etPhoneNumber.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.LoginEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etLogin)
+                }
+                is UserRegisterState.LoginValidate -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etLogin.requestFocus()
+                    binding.etLogin.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.PasswordEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPassword)
+                }
+                is UserRegisterState.PasswordLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etPassword.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.Success -> {
+                    requireView().hideKeyboard()
+                    lifecycleScope.launch {
+                        createPatientWithEmail(binding.etLogin.text.toString(),
+                            binding.etPassword.text.toString())
+                    }
+                }
             }
-        }
+        })
+
+    }
+
+    private fun invisibleProgress(progressBar: ProgressBar) {
+        progressBar.isVisible = false
+        visibleAllViews()
     }
 
     private fun createPatientWithEmail(login: String, password: String) {
-        AUTH.createUserWithEmailAndPassword(login, password).addOnCompleteListener { value ->
-            if (value.isSuccessful) {
-                saveUsersData()
-            } else {
-                invisibleProgress(binding.progressBar)
-                try {
-                    throw Objects.requireNonNull<Exception>(value.exception)
-                } catch (existEmail: FirebaseAuthUserCollisionException) {
-                    binding.etLogin.error = "Идентификатор электронной почты уже существует."
-                    binding.etLogin.requestFocus()
-                } catch (weakPassword: FirebaseAuthWeakPasswordException) {
-                    binding.etPassword.error = "Длина пароля должна быть более шести символов."
-                    binding.etPassword.requestFocus()
-                } catch (malformedEmail: FirebaseAuthInvalidCredentialsException) {
-                    binding.etLogin.requestFocus()
-                    binding.etLogin.error = "Недействительные учетные данные, попробуйте еще раз."
-                } catch (e: Exception) {
-                    binding.etIin.requestFocus()
-                    binding.etIin.error = "Регистрация не удалась. Попробуйте снова."
-                }
-            }
-        }
+        AUTH.createUserWithEmailAndPassword(login, password)
+            .addOnCompleteListener { value ->
+                if (value.isSuccessful) {
+                    saveUsersData(login, password)
+                } else {
+                    try {
+                        Log.d("on", "binding")
+                        try {
+                            throw value.exception!!
+                        } catch (existEmail: FirebaseAuthUserCollisionException) {
+                            invisibleProgress(binding.progressBar)
+                            binding.etLogin.error =
+                                "Идентификатор электронной почты уже существует."
+                            binding.etLogin.requestFocus()
+                        } catch (e: Exception) {
+                            invisibleProgress(binding.progressBar)
+                            binding.etIin.requestFocus()
+                            binding.etIin.error = "Регистрация не удалась. Попробуйте снова."
+                        }
+                    } catch (e: Exception) {
+                        e.printStackTrace()
+                    }
+                }
+            }
     }
 
-    private fun saveUsersData() {
+    private fun saveUsersData(login: String, password: String) {
         val id = AUTH.currentUser!!.uid
         val iin = binding.etIin.text.toString()
         val name = binding.etFio.text.toString()
         val surname = binding.etSurname.text.toString()
         val patronymic = binding.etPatronymic.text.toString()
         val address = binding.etCity.text.toString()
-        val login = binding.etLogin.text.toString()
-        val password = binding.etPassword.text.toString()
-        PHONE_NUMBER =
-            if (PHONE_NUMBER.isEmpty()) binding.etPhoneNumber.text.toString() else PHONE_NUMBER
+        if (PHONE_NUMBER.isEmpty())
+            PHONE_NUMBER = binding.etPhoneNumber.text.toString()
         val photoUrl = ""
         val patient = PatientData(
             id,
@@ -230,22 +328,23 @@
             password,
             PHONE_NUMBER,
             photoUrl)
-        DB.reference.child("patients").child(id).setValue(patient).addOnCompleteListener { task ->
-            if (task.isSuccessful) {
-                invisibleProgress(binding.progressBar)
-                val action =
-                    UserDataSignOutFragmentDirections
-                        .actionNavigationUserDataSignOutFragmentToNavigationLogin()
-                action.login = login
-                action.password = password
-                findNavController().navigate(action)
-            }
-        }
+        DB.reference.child("patients").child(id).setValue(patient)
+            .addOnCompleteListener { task ->
+                if (task.isSuccessful) {
+                    invisibleProgress(binding.progressBar)
+                    if (uri == null) {
+                        navigateToLogin(login, password)
+                    } else {
+                        Log.d("uri", uri.toString())
+                        savePhoto(login, password)
+                    }
+                    binding.etLogin.setText("")
+                    binding.etPassword.setText("")
+                }
+            }
     }
-
 
     private fun setGender() {
-
         spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {
             override fun onItemSelected(p0: AdapterView<*>?, p1: View?, p2: Int, p3: Long) {
                 gender = personNames[p2]
@@ -262,6 +361,4 @@
             error = "Это обезятельное поле"
         }
     }
-}
-
-
+}
\ No newline at end of file
Index: app/src/main/res/layout/fragment_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#EDFCFF\"\r\n    tools:context=\".LoginFragment\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/vector\"\r\n                android:layout_width=\"360dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"100dp\"\r\n                android:background=\"@drawable/round_fone\"\r\n                android:paddingBottom=\"16dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView\"\r\n                    android:layout_width=\"204dp\"\r\n                    android:layout_height=\"204dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:background=\"@drawable/ic_group_970\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/vector\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/vector\"\r\n                    app:layout_constraintTop_toTopOf=\"@+id/vector\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/text_login\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Вход в приложение\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"24sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/imageView\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/text_phone_number\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"18dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:text=\"Укажите Ваш логин и пароль\"\r\n                    android:textColor=\"#616161\"\r\n                    android:textSize=\"16sp\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_login\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_login\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:hint=\"user@gmail.com\"\r\n                    android:inputType=\"textEmailAddress\"\r\n                    android:textAlignment=\"center\"\r\n                    android:maxLength=\"28\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/text_phone_number\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_phone_number\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_phone_number\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/et_password\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:background=\"@drawable/phone_number_round\"\r\n                    android:maxLength=\"20\"\r\n                    android:textAlignment=\"center\"\r\n                    android:hint=\"******\"\r\n                    android:inputType=\"textVisiblePassword\"\r\n                    android:padding=\"16dp\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/et_login\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/et_login\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_login\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/error_otp_code\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:paddingStart=\"24dp\"\r\n                    android:paddingTop=\"8dp\"\r\n                    android:paddingEnd=\"24dp\"\r\n                    android:text=\"Код введён неверно\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"#DA3205\"\r\n                    android:textSize=\"14sp\"\r\n                    android:visibility=\"invisible\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/et_password\" />\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_to_register\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"16dp\"\r\n                android:textSize=\"16dp\"\r\n                android:textColor=\"#2E58AB\"\r\n                android:text=\"Зарегистрироваться\"\r\n                app:layout_constraintEnd_toEndOf=\"@+id/vector\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/vector\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/vector\" />\r\n\r\n            <com.google.android.material.button.MaterialButton\r\n                android:id=\"@+id/send_users_data_button\"\r\n                android:layout_width=\"360dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:backgroundTint=\"#2E58AB\"\r\n                android:text=\"Войти\"\r\n                app:cornerRadius=\"8dp\"\r\n                app:layout_constraintEnd_toEndOf=\"@+id/tv_to_register\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/tv_to_register\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/tv_to_register\" />\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progressBar\"\r\n        android:layout_width=\"62dp\"\r\n        android:layout_height=\"63dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_login.xml b/app/src/main/res/layout/fragment_login.xml
--- a/app/src/main/res/layout/fragment_login.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/fragment_login.xml	(date 1644573152380)
@@ -5,9 +5,10 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:background="#EDFCFF"
-    tools:context=".LoginFragment">
+    tools:context=".login.presentation.fragment.LoginFragment">
 
     <ScrollView
+        android:id="@+id/content_scroll"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         app:layout_constraintBottom_toBottomOf="parent"
@@ -22,7 +23,7 @@
 
             <androidx.constraintlayout.widget.ConstraintLayout
                 android:id="@+id/vector"
-                android:layout_width="360dp"
+                android:layout_width="340dp"
                 android:layout_height="wrap_content"
                 android:layout_marginTop="100dp"
                 android:background="@drawable/round_fone"
@@ -131,14 +132,14 @@
 
             <com.google.android.material.button.MaterialButton
                 android:id="@+id/send_users_data_button"
-                android:layout_width="360dp"
-                android:layout_height="wrap_content"
+                android:layout_width="340dp"
+                android:layout_height="@dimen/button_height"
                 android:layout_marginTop="8dp"
                 android:backgroundTint="#2E58AB"
                 android:text="Войти"
                 app:cornerRadius="8dp"
-                app:layout_constraintEnd_toEndOf="@+id/tv_to_register"
-                app:layout_constraintStart_toStartOf="@+id/tv_to_register"
+                app:layout_constraintEnd_toEndOf="@+id/vector"
+                app:layout_constraintStart_toStartOf="@+id/vector"
                 app:layout_constraintTop_toBottomOf="@+id/tv_to_register" />
 
         </androidx.constraintlayout.widget.ConstraintLayout>
Index: app/src/main/java/com/example/testmed/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.view.isVisible\r\nimport androidx.navigation.NavController\r\nimport androidx.navigation.findNavController\r\nimport androidx.navigation.ui.AppBarConfiguration\r\nimport androidx.navigation.ui.setupActionBarWithNavController\r\nimport androidx.navigation.ui.setupWithNavController\r\nimport by.kirich1409.viewbindingdelegate.viewBinding\r\nimport com.example.testmed.databinding.ActivityMainBinding\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private val binding get() = _binding!!\r\n    private var _binding : ActivityMainBinding? = null\r\n    private val navController: NavController by lazy {\r\n        findNavController(R.id.nav_host_fragment_activity_main)\r\n    }\r\n    private val navView by lazy(LazyThreadSafetyMode.NONE) {\r\n        binding.navView\r\n    }\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        _binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n        val appBarConfiguration = AppBarConfiguration(setOf(\r\n            R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications))\r\n        setupActionBarWithNavController(navController, appBarConfiguration)\r\n        navView.setupWithNavController(navController)\r\n        hideActionBarOnDestinationChange()\r\n    }\r\n\r\n    private fun hideActionBarOnDestinationChange() {\r\n        navController.addOnDestinationChangedListener { _, destination, _ ->\r\n            when (destination.id) {\r\n                R.id.navigation_register, R.id.navigation_enter, R.id.navigation_userDataSignOutFragment,\r\n                R.id.navigation_login,\r\n                -> {\r\n                    supportActionBar?.hide()\r\n                    navView.isVisible = false\r\n                }\r\n//                R.id.nav_home -> {\r\n//                    navController.popBackStack(R.id.nav_home, false)\r\n//                    supportActionBar?.show()\r\n//                }\r\n                else -> {\r\n                    supportActionBar?.show()\r\n                    navView.isVisible = true\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/MainActivity.kt b/app/src/main/java/com/example/testmed/MainActivity.kt
--- a/app/src/main/java/com/example/testmed/MainActivity.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/MainActivity.kt	(date 1644571211948)
@@ -8,7 +8,6 @@
 import androidx.navigation.ui.AppBarConfiguration
 import androidx.navigation.ui.setupActionBarWithNavController
 import androidx.navigation.ui.setupWithNavController
-import by.kirich1409.viewbindingdelegate.viewBinding
 import com.example.testmed.databinding.ActivityMainBinding
 
 class MainActivity : AppCompatActivity() {
@@ -27,7 +26,7 @@
         _binding = ActivityMainBinding.inflate(layoutInflater)
         setContentView(binding.root)
         val appBarConfiguration = AppBarConfiguration(setOf(
-            R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications))
+            R.id.navigation_home, R.id.navigation_chats, R.id.navigation_profile, R.id.navigation_clinic))
         setupActionBarWithNavController(navController, appBarConfiguration)
         navView.setupWithNavController(navController)
         hideActionBarOnDestinationChange()
@@ -36,12 +35,23 @@
     private fun hideActionBarOnDestinationChange() {
         navController.addOnDestinationChangedListener { _, destination, _ ->
             when (destination.id) {
-                R.id.navigation_register, R.id.navigation_enter, R.id.navigation_userDataSignOutFragment,
+                R.id.navigation_register,
+                R.id.navigation_enter,
+                R.id.navigation_userDataSignOutFragment,
                 R.id.navigation_login,
+                R.id.navigation_change_patient_data,
                 -> {
                     supportActionBar?.hide()
                     navView.isVisible = false
                 }
+
+                R.id.navigation_home,
+                R.id.navigation_chats,
+                R.id.navigation_profile,
+                R.id.navigation_clinic ->{
+                    supportActionBar?.hide()
+                    navView.isVisible = true
+                }
 //                R.id.nav_home -> {
 //                    navController.popBackStack(R.id.nav_home, false)
 //                    supportActionBar?.show()
@@ -54,6 +64,7 @@
         }
     }
 
+
     override fun onDestroy() {
         super.onDestroy()
         _binding = null
Index: app/src/main/java/com/example/testmed/ui/home/HomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.ui.home\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.lifecycle.Observer\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport by.kirich1409.viewbindingdelegate.CreateMethod\r\nimport by.kirich1409.viewbindingdelegate.viewBinding\r\nimport com.example.testmed.AUTH\r\nimport com.example.testmed.DB\r\nimport com.example.testmed.PHONE_NUMBER\r\nimport com.example.testmed.R\r\nimport com.example.testmed.base.BaseFragment\r\nimport com.example.testmed.databinding.FragmentHomeBinding\r\nimport com.example.testmed.model.PatientData\r\nimport com.google.firebase.database.DataSnapshot\r\nimport com.google.firebase.database.DatabaseError\r\nimport com.google.firebase.database.ValueEventListener\r\n\r\nclass HomeFragment : BaseFragment<FragmentHomeBinding>(FragmentHomeBinding::inflate) {\r\n\r\n    private lateinit var homeViewModel: HomeViewModel\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        DB.reference\r\n            .child(\"patients\")\r\n            .child(AUTH.currentUser?.uid.toString())\r\n            .addValueEventListener(object : ValueEventListener{\r\n                override fun onDataChange(snapshot: DataSnapshot) {\r\n                    val data = snapshot.getValue(PatientData::class.java)\r\n                    binding.textHome.text = \"${data?.phoneNumber}, ${AUTH.currentUser?.email} \"\r\n                }\r\n\r\n                override fun onCancelled(error: DatabaseError) {\r\n                    TODO(\"Not yet implemented\")\r\n                }\r\n            })\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ui/home/HomeFragment.kt b/app/src/main/java/com/example/testmed/ui/home/HomeFragment.kt
--- a/app/src/main/java/com/example/testmed/ui/home/HomeFragment.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/ui/home/HomeFragment.kt	(date 1644552218111)
@@ -1,44 +1,48 @@
 package com.example.testmed.ui.home
 
 import android.os.Bundle
-import android.view.LayoutInflater
 import android.view.View
-import android.view.ViewGroup
-import android.widget.TextView
-import androidx.fragment.app.Fragment
-import androidx.lifecycle.Observer
-import androidx.lifecycle.ViewModelProvider
-import by.kirich1409.viewbindingdelegate.CreateMethod
-import by.kirich1409.viewbindingdelegate.viewBinding
-import com.example.testmed.AUTH
-import com.example.testmed.DB
-import com.example.testmed.PHONE_NUMBER
-import com.example.testmed.R
+import androidx.navigation.fragment.findNavController
+import com.bumptech.glide.Glide
+import com.example.testmed.*
 import com.example.testmed.base.BaseFragment
-import com.example.testmed.databinding.FragmentHomeBinding
 import com.example.testmed.model.PatientData
+import com.example.testmed.databinding.FragmentHomeBinding
 import com.google.firebase.database.DataSnapshot
 import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.DatabaseReference
 import com.google.firebase.database.ValueEventListener
 
 class HomeFragment : BaseFragment<FragmentHomeBinding>(FragmentHomeBinding::inflate) {
 
     private lateinit var homeViewModel: HomeViewModel
+    private lateinit var valueEventListener: ValueEventListener
+    private lateinit var rdbRef: DatabaseReference
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
-        DB.reference
+        rdbRef = DB.reference
             .child("patients")
-            .child(AUTH.currentUser?.uid.toString())
-            .addValueEventListener(object : ValueEventListener{
-                override fun onDataChange(snapshot: DataSnapshot) {
-                    val data = snapshot.getValue(PatientData::class.java)
-                    binding.textHome.text = "${data?.phoneNumber}, ${AUTH.currentUser?.email} "
+            .child(UID)
+        valueEventListener = rdbRef.addValueEventListener(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                if (snapshot.exists()) {
+                    val data: PatientData? = snapshot.getValue(PatientData::class.java)
+                    binding.textHome.text =
+                        "${data?.phoneNumber ?: "null"}, ${data?.login ?: "null"}"
+                } else {
+                    findNavController().navigate(R.id.navigation_login,)
                 }
+            }
 
-                override fun onCancelled(error: DatabaseError) {
-                    TODO("Not yet implemented")
-                }
-            })
+            override fun onCancelled(error: DatabaseError) {
+//                    requireActivity().finish()
+            }
+        })
     }
+
+    override fun onPause() {
+        super.onPause()
+        rdbRef.removeEventListener(valueEventListener)
+    }
 }
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidatePhone.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.domain.usecase\r\n\r\nimport kotlinx.coroutines.flow.Flow\r\nimport kotlinx.coroutines.flow.flow\r\n\r\nclass ValidatePhone : IValidatePhone {\r\n    override fun validate(phoneNumber: String): Flow<UIValidationState> {\r\n        return when {\r\n            phoneNumber.isEmpty() -> {\r\n                flow {\r\n                    emit(UIValidationState.IsEmpty(\"Please enter phone number\"))\r\n                }\r\n            }\r\n            phoneNumber.length < 17 -> {\r\n                flow {\r\n                    emit(UIValidationState.PhoneNumberLess(\"Phone number must contain at least 12 digits\"))\r\n                }\r\n            }\r\n            else -> {\r\n                flow {\r\n                    emit(UIValidationState.Success(\"validate\"))\r\n                }\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidatePhone.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidatePhone.kt
--- a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidatePhone.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidatePhone.kt	(date 1644327474210)
@@ -1,6 +1,7 @@
 package com.example.testmed.registeruser.domain.usecase
 
 import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.MutableStateFlow
 import kotlinx.coroutines.flow.flow
 
 class ValidatePhone : IValidatePhone {
@@ -8,17 +9,17 @@
         return when {
             phoneNumber.isEmpty() -> {
                 flow {
-                    emit(UIValidationState.IsEmpty("Please enter phone number"))
+                    emit(UIValidationState.IsEmpty("Пожалуйста, введите номер телефона."))
                 }
             }
             phoneNumber.length < 17 -> {
                 flow {
-                    emit(UIValidationState.PhoneNumberLess("Phone number must contain at least 12 digits"))
+                    emit(UIValidationState.PhoneNumberLess("Номер телефона должен содержать не менее 12 цифр."))
                 }
             }
             else -> {
                 flow {
-                    emit(UIValidationState.Success("validate"))
+                    emit(UIValidationState.Success)
                 }
             }
         }
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">test med</string>\r\n    <string name=\"title_home\">Home</string>\r\n    <string name=\"title_dashboard\">Dashboard</string>\r\n    <string name=\"title_notifications\">Notifications</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n\r\n    <string-array name=\"gender\">\r\n        <item>Мужчина</item>\r\n        <item>Женшина</item>\r\n    </string-array>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/values/strings.xml	(date 1644570194014)
@@ -1,8 +1,9 @@
 <resources>
     <string name="app_name">test med</string>
-    <string name="title_home">Home</string>
-    <string name="title_dashboard">Dashboard</string>
-    <string name="title_notifications">Notifications</string>
+    <string name="title_home">Врачи</string>
+    <string name="title_chats">Чаты</string>
+    <string name="title_profile">Профиль</string>
+    <string name="title_about_clinic">О клинике</string>
     <!-- TODO: Remove or change this placeholder text -->
     <string name="hello_blank_fragment">Hello blank fragment</string>
 
Index: app/src/main/res/layout/fragment_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.home.HomeFragment\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/text_home\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:textAlignment=\"center\"\r\n        android:textSize=\"20sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--- a/app/src/main/res/layout/fragment_home.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/fragment_home.xml	(date 1644464502183)
@@ -3,6 +3,7 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
+    android:background="@color/background_color"
     android:layout_height="match_parent"
     tools:context=".ui.home.HomeFragment">
 
Index: app/src/main/res/drawable-v24/round_fone_image.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable-v24/round_fone_image.xml b/app/src/main/res/drawable-v24/round_fone_image.xml
new file mode 100644
--- /dev/null	(date 1644564860220)
+++ b/app/src/main/res/drawable-v24/round_fone_image.xml	(date 1644564860220)
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+
+    <solid android:color="#FFFFFF"/>
+
+    <stroke
+        android:color="#FFFFFF"
+        android:width="1dp"/>
+
+    <corners android:radius="20dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/model/ClinicData.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/model/ClinicData.kt b/app/src/main/java/com/example/testmed/model/ClinicData.kt
new file mode 100644
--- /dev/null	(date 1644485896921)
+++ b/app/src/main/java/com/example/testmed/model/ClinicData.kt	(date 1644485896921)
@@ -0,0 +1,13 @@
+package com.example.testmed.model
+
+data class ClinicData(
+    val name: String,
+    val address: String,
+    val email: String,
+    val link: String,
+    val password: String,
+    val phoneNumber: String,
+) {
+    constructor() : this("", "", "",
+        "", "", "")
+}
\ No newline at end of file
Index: app/src/main/res/layout/fragment_enter_code.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#EDFCFF\"\r\n    tools:context=\".registeruser.presentation.fragment.EnterCodeFragment\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/content\"\r\n        android:layout_width=\"360dp\"\r\n        android:layout_height=\"396dp\"\r\n        android:layout_marginTop=\"130dp\"\r\n        android:background=\"@drawable/round_fone\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/fon\"\r\n            android:layout_width=\"210dp\"\r\n            android:layout_height=\"160dp\"\r\n            android:layout_marginStart=\"30dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:background=\"@drawable/ic_sms_verify__1_\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/text_login_code\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:text=\"SMS-подтверждение\"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"24sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.503\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/fon\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/text_sms\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            android:layout_marginEnd=\"24dp\"\r\n            android:paddingStart=\"24dp\"\r\n            android:paddingTop=\"24dp\"\r\n            android:paddingEnd=\"24dp\"\r\n            android:text=\"Мы отправили на Ваш телефон SMS\r\nc кодом. Введите его в поле\"\r\n            android:textAlignment=\"center\"\r\n            android:textColor=\"#616161\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/text_login_code\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/text_login_code\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/text_login_code\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/linearLayout\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"8dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/text_sms\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_1\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_2\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_3\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_4\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_5\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"44dp\"\r\n                android:layout_height=\"44dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:background=\"@drawable/otp_cede_fone1\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/otp_6\"\r\n                    android:layout_width=\"44dp\"\r\n                    android:layout_height=\"44dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@null\"\r\n                    android:ems=\"1\"\r\n                    android:inputType=\"number\"\r\n                    android:maxLength=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:textAlignment=\"center\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/text_sms\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/text_sms\" />\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/error_otp_code\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"24dp\"\r\n            android:paddingTop=\"8dp\"\r\n            android:paddingEnd=\"24dp\"\r\n            android:text=\"Код введён неверно\"\r\n            android:textAlignment=\"center\"\r\n            android:textColor=\"#DA3205\"\r\n            android:textSize=\"14sp\"\r\n            android:visibility=\"gone\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/linearLayout\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/linearLayout\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    <com.google.android.material.button.MaterialButton\r\n        android:id=\"@+id/button_send\"\r\n        android:layout_width=\"360dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:backgroundTint=\"#2E58AB\"\r\n        android:text=\"Отправить повторно · 0:15\"\r\n        app:cornerRadius=\"8dp\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/content\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/content\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/content\" />\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progressBar\"\r\n        android:layout_width=\"62dp\"\r\n        android:layout_height=\"63dp\"\r\n        android:layout_gravity=\"center\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_enter_code.xml b/app/src/main/res/layout/fragment_enter_code.xml
--- a/app/src/main/res/layout/fragment_enter_code.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/fragment_enter_code.xml	(date 1644573878905)
@@ -9,7 +9,7 @@
 
     <androidx.constraintlayout.widget.ConstraintLayout
         android:id="@+id/content"
-        android:layout_width="360dp"
+        android:layout_width="340dp"
         android:layout_height="396dp"
         android:layout_marginTop="130dp"
         android:background="@drawable/round_fone"
@@ -94,7 +94,7 @@
             <LinearLayout
                 android:layout_width="44dp"
                 android:layout_height="44dp"
-                android:layout_marginStart="16dp"
+                android:layout_marginStart="8dp"
                 android:background="@drawable/otp_cede_fone1">
 
                 <EditText
@@ -115,7 +115,7 @@
             <LinearLayout
                 android:layout_width="44dp"
                 android:layout_height="44dp"
-                android:layout_marginStart="16dp"
+                android:layout_marginStart="8dp"
                 android:background="@drawable/otp_cede_fone1">
 
                 <EditText
@@ -136,7 +136,7 @@
             <LinearLayout
                 android:layout_width="44dp"
                 android:layout_height="44dp"
-                android:layout_marginStart="16dp"
+                android:layout_marginStart="8dp"
                 android:background="@drawable/otp_cede_fone1">
 
                 <EditText
@@ -157,7 +157,7 @@
             <LinearLayout
                 android:layout_width="44dp"
                 android:layout_height="44dp"
-                android:layout_marginStart="16dp"
+                android:layout_marginStart="8dp"
                 android:background="@drawable/otp_cede_fone1">
 
                 <EditText
@@ -178,7 +178,7 @@
             <LinearLayout
                 android:layout_width="44dp"
                 android:layout_height="44dp"
-                android:layout_marginStart="16dp"
+                android:layout_marginStart="8dp"
                 android:background="@drawable/otp_cede_fone1">
 
                 <EditText
@@ -218,8 +218,8 @@
 
     <com.google.android.material.button.MaterialButton
         android:id="@+id/button_send"
-        android:layout_width="360dp"
-        android:layout_height="wrap_content"
+        android:layout_width="340dp"
+        android:layout_height="@dimen/button_height"
         android:layout_marginTop="24dp"
         android:backgroundTint="#2E58AB"
         android:text="Отправить повторно · 0:15"
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/UIValidationState.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.domain.usecase\r\n\r\n\r\nsealed class UIValidationState {\r\n    object Loading : UIValidationState()\r\n    data class IsEmpty(val errorMessage: String): UIValidationState()\r\n    data class PhoneNumberLess(val errorMessage: String): UIValidationState()\r\n    data class Success<T>(val content: T): UIValidationState()\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UIValidationState.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UIValidationState.kt
--- a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UIValidationState.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UIValidationState.kt	(date 1644327474227)
@@ -5,5 +5,5 @@
     object Loading : UIValidationState()
     data class IsEmpty(val errorMessage: String): UIValidationState()
     data class PhoneNumberLess(val errorMessage: String): UIValidationState()
-    data class Success<T>(val content: T): UIValidationState()
+    object Success : UIValidationState()
 }
\ No newline at end of file
Index: app/src/main/res/drawable/ic_back_vector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_back_vector.xml b/app/src/main/res/drawable/ic_back_vector.xml
new file mode 100644
--- /dev/null	(date 1644571945155)
+++ b/app/src/main/res/drawable/ic_back_vector.xml	(date 1644571945155)
@@ -0,0 +1,10 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:tint="#2E58AB"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+    <path
+        android:fillColor="@android:color/white"
+        android:pathData="M17.77,3.77l-1.77,-1.77l-10,10l10,10l1.77,-1.77l-8.23,-8.23z" />
+</vector>
Index: app/src/main/res/drawable/ic_back_icon.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_back_icon.xml b/app/src/main/res/drawable/ic_back_icon.xml
new file mode 100644
--- /dev/null	(date 1644571316092)
+++ b/app/src/main/res/drawable/ic_back_icon.xml	(date 1644571316092)
@@ -0,0 +1,13 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="30dp"
+    android:height="30dp"
+    android:viewportWidth="56"
+    android:viewportHeight="62">
+  <path
+      android:pathData="M15,10L35,10A5,5 0,0 1,40 15L40,35A5,5 0,0 1,35 40L15,40A5,5 0,0 1,10 35L10,15A5,5 0,0 1,15 10z"
+      android:fillColor="#ffffff"
+      android:fillAlpha="0.8"/>
+  <path
+      android:pathData="M19.2308,25.5766C19.2308,25.336 19.3258,25.1173 19.5158,24.9423L25.6899,19.4739C26.0699,19.1458 26.6635,19.1458 27.0435,19.4957C27.3997,19.8457 27.3997,20.3926 27.0197,20.7426L21.558,25.5766L27.0197,30.4107C27.3997,30.7388 27.3997,31.3075 27.0435,31.6575C26.6873,32.0075 26.0699,32.0074 25.6899,31.6793L19.5158,26.211C19.3258,26.036 19.2308,25.8172 19.2308,25.5766Z"
+      android:fillColor="#2E58AB"/>
+</vector>
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidateCode.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.domain.usecase\r\n\r\nimport kotlinx.coroutines.flow.Flow\r\nimport kotlinx.coroutines.flow.MutableStateFlow\r\nimport kotlinx.coroutines.flow.flow\r\n\r\nclass ValidateCode : IValidateCode {\r\n    private val validateStateFlow = MutableStateFlow<UIValidationState>(UIValidationState.Loading)\r\n    override fun validate(code: String): Flow<UIValidationState> {\r\n        when {\r\n            code.isEmpty() -> {\r\n                validateStateFlow.value = UIValidationState.IsEmpty(\"\")\r\n            }\r\n            code.length < 6 -> {\r\n                validateStateFlow.value =\r\n                    UIValidationState.PhoneNumberLess(\"Код должен содержить 6 цифр\")\r\n            }\r\n            else -> {\r\n                validateStateFlow.value =\r\n                    UIValidationState.Success(\"validate\")\r\n            }\r\n        }\r\n        return validateStateFlow\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidateCode.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidateCode.kt
--- a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidateCode.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/ValidateCode.kt	(date 1644327474234)
@@ -17,7 +17,7 @@
             }
             else -> {
                 validateStateFlow.value =
-                    UIValidationState.Success("validate")
+                    UIValidationState.Success
             }
         }
         return validateStateFlow
Index: app/src/main/java/com/example/testmed/registeruser/data/remote/SignOutFirebase.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.data.remote\r\n\r\nimport com.example.testmed.AUTH\r\nimport com.example.testmed.MainActivity\r\nimport com.google.firebase.FirebaseException\r\nimport com.google.firebase.auth.PhoneAuthCredential\r\nimport com.google.firebase.auth.PhoneAuthOptions\r\nimport com.google.firebase.auth.PhoneAuthProvider\r\nimport kotlinx.coroutines.flow.Flow\r\nimport kotlinx.coroutines.flow.MutableStateFlow\r\nimport java.util.concurrent.TimeUnit\r\n\r\nclass SignOutFirebase : ISignOutFirebase {\r\n    private var mCallback: PhoneAuthProvider.OnVerificationStateChangedCallbacks\r\n    private val _onCodeSentFlow: MutableStateFlow<String> = MutableStateFlow(\"\")\r\n\r\n    init {\r\n        mCallback = object : PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n            override fun onVerificationCompleted(credential: PhoneAuthCredential) {}\r\n            override fun onVerificationFailed(p0: FirebaseException) {}\r\n            override fun onCodeSent(verificationId: String, token: PhoneAuthProvider.ForceResendingToken) {\r\n                if (verificationId.isEmpty()) {\r\n                    _onCodeSentFlow.value = \"\"\r\n                } else {\r\n                    _onCodeSentFlow.value = verificationId\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override suspend fun authUser(phoneNumber: String, context: MainActivity) {\r\n//        AUTH.firebaseAuthSettings.setAppVerificationDisabledForTesting(true)\r\n        val options = PhoneAuthOptions.newBuilder(AUTH)\r\n            .setPhoneNumber(phoneNumber)       // Phone number to verify\r\n            .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit\r\n            .setActivity(context)             // Activity (for callback binding)\r\n            .setCallbacks(mCallback)          // OnVerificationStateChangedCallbacks\r\n            .build()\r\n        PhoneAuthProvider.verifyPhoneNumber(options)\r\n    }\r\n\r\n    override fun onCodeSent(): Flow<String> {\r\n        return _onCodeSentFlow\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/data/remote/SignOutFirebase.kt b/app/src/main/java/com/example/testmed/registeruser/data/remote/SignOutFirebase.kt
--- a/app/src/main/java/com/example/testmed/registeruser/data/remote/SignOutFirebase.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/data/remote/SignOutFirebase.kt	(date 1644327699902)
@@ -29,7 +29,7 @@
     }
 
     override suspend fun authUser(phoneNumber: String, context: MainActivity) {
-//        AUTH.firebaseAuthSettings.setAppVerificationDisabledForTesting(true)
+        AUTH.firebaseAuthSettings.setAppVerificationDisabledForTesting(true)
         val options = PhoneAuthOptions.newBuilder(AUTH)
             .setPhoneNumber(phoneNumber)       // Phone number to verify
             .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit
Index: app/src/main/java/com/example/testmed/registeruser/data/remote/SendCode.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.testmed.registeruser.data.remote\r\n\r\nimport com.example.testmed.AUTH\r\nimport com.example.testmed.registeruser.domain.UIState\r\nimport com.google.firebase.auth.PhoneAuthProvider\r\nimport kotlinx.coroutines.flow.Flow\r\nimport kotlinx.coroutines.flow.MutableStateFlow\r\n\r\nclass SendCode : ISendCode {\r\n    private val checkCodeFlow: MutableStateFlow<UIState> = MutableStateFlow(UIState.Loading)\r\n    override fun sendCode(code: String, id: String): Flow<UIState> {\r\n        val credential = PhoneAuthProvider.getCredential(id, code)\r\n//        AUTH.firebaseAuthSettings.setAppVerificationDisabledForTesting(true);\r\n        AUTH.signInWithCredential(credential).addOnCompleteListener { task ->\r\n            if (task.isSuccessful){\r\n                checkCodeFlow.value = UIState.Success(\"true\")\r\n            }else{\r\n                checkCodeFlow.value = UIState.Error(\"Код введён неверно\")\r\n            }\r\n        }\r\n        return checkCodeFlow\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/data/remote/SendCode.kt b/app/src/main/java/com/example/testmed/registeruser/data/remote/SendCode.kt
--- a/app/src/main/java/com/example/testmed/registeruser/data/remote/SendCode.kt	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/java/com/example/testmed/registeruser/data/remote/SendCode.kt	(date 1644328291688)
@@ -2,6 +2,7 @@
 
 import com.example.testmed.AUTH
 import com.example.testmed.registeruser.domain.UIState
+import com.google.firebase.auth.PhoneAuthCredential
 import com.google.firebase.auth.PhoneAuthProvider
 import kotlinx.coroutines.flow.Flow
 import kotlinx.coroutines.flow.MutableStateFlow
@@ -9,11 +10,11 @@
 class SendCode : ISendCode {
     private val checkCodeFlow: MutableStateFlow<UIState> = MutableStateFlow(UIState.Loading)
     override fun sendCode(code: String, id: String): Flow<UIState> {
-        val credential = PhoneAuthProvider.getCredential(id, code)
+        val credential: PhoneAuthCredential = PhoneAuthProvider.getCredential(id, code)
 //        AUTH.firebaseAuthSettings.setAppVerificationDisabledForTesting(true);
         AUTH.signInWithCredential(credential).addOnCompleteListener { task ->
             if (task.isSuccessful){
-                checkCodeFlow.value = UIState.Success("true")
+                checkCodeFlow.value = UIState.Success("")
             }else{
                 checkCodeFlow.value = UIState.Error("Код введён неверно")
             }
Index: app/src/main/java/com/example/testmed/ChangePatientDataFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ChangePatientDataFragment.kt b/app/src/main/java/com/example/testmed/ChangePatientDataFragment.kt
new file mode 100644
--- /dev/null	(date 1644895008617)
+++ b/app/src/main/java/com/example/testmed/ChangePatientDataFragment.kt	(date 1644895008617)
@@ -0,0 +1,411 @@
+package com.example.testmed
+
+import android.app.Activity
+import android.app.DatePickerDialog
+import android.net.Uri
+import android.os.Bundle
+import android.util.Log
+import android.view.View
+import android.widget.EditText
+import android.widget.ProgressBar
+import androidx.activity.result.contract.ActivityResultContracts
+import androidx.core.view.isVisible
+import androidx.lifecycle.lifecycleScope
+import androidx.navigation.fragment.findNavController
+import com.bumptech.glide.Glide
+import com.example.testmed.base.BaseFragment
+import com.example.testmed.databinding.FragmentChangePatientDataBinding
+import com.example.testmed.model.PatientData
+import com.example.testmed.registeruser.domain.usecase.UserRegisterState
+import com.example.testmed.registeruser.domain.usecase.UserRegistrationValidate
+import com.google.android.material.snackbar.Snackbar
+import com.google.firebase.auth.FirebaseAuth
+import com.google.firebase.auth.FirebaseAuth.AuthStateListener
+import com.google.firebase.auth.FirebaseAuth.getInstance
+import com.google.firebase.auth.FirebaseAuthUserCollisionException
+import com.google.firebase.auth.FirebaseUser
+import com.google.firebase.database.DataSnapshot
+import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.DatabaseReference
+import com.google.firebase.database.ValueEventListener
+import com.google.firebase.ktx.Firebase
+import com.theartofdev.edmodo.cropper.CropImage
+import com.theartofdev.edmodo.cropper.CropImageView
+import kotlinx.coroutines.Dispatchers
+import kotlinx.coroutines.launch
+import java.lang.Exception
+import java.util.*
+
+
+class ChangePatientDataFragment :
+    BaseFragment<FragmentChangePatientDataBinding>(FragmentChangePatientDataBinding::inflate) {
+    private lateinit var valueEventListener: ValueEventListener
+    private lateinit var currentUser: FirebaseUser
+    private lateinit var authStateListener: AuthStateListener
+    private lateinit var auth: FirebaseAuth
+    private lateinit var rdbRef: DatabaseReference
+    private lateinit var viewModel: ChangePatientDataViewModel
+    private var cal = Calendar.getInstance()
+    private var birthday = ""
+    private var uri: Uri? = null
+    private lateinit var gender: String
+    private lateinit var photoUrl: String
+    private lateinit var login: String
+    private lateinit var loginIsSame: String
+    private lateinit var password: String
+
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        val userRegistrationValidate = UserRegistrationValidate()
+        viewModel = ChangePatientDataViewModel(userRegistrationValidate)
+        auth = getInstance()
+        authStateListener = AuthStateListener { firebaseAuth ->
+            currentUser = firebaseAuth.currentUser!!
+        }
+        authStateListener.onAuthStateChanged(auth)
+        setProfileData()
+        saveData()
+        setDatePicker()
+        changePhotoUser()
+        navigateBack()
+    }
+
+    override fun onResume() {
+        super.onResume()
+        authStateListener.onAuthStateChanged(auth)
+    }
+
+
+    private fun changePhotoUser() {
+        binding.selectPhoto.setOnClickListener {
+            val intent = CropImage.activity()
+                .setAspectRatio(1, 1)
+                .setRequestedSize(600, 600)
+                .setCropShape(CropImageView.CropShape.OVAL)
+                .getIntent(activity as MainActivity)
+            launchSomeActivity.launch(intent)
+        }
+    }
+
+    private var launchSomeActivity =
+        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result ->
+            if (result.resultCode == Activity.RESULT_OK && result.data != null) {
+                uri = CropImage.getActivityResult(result.data).uri
+                binding.selectPhoto.background = null
+                binding.selectPhoto.setImageURI(uri)
+            }
+        }
+
+    private fun navigateBack() {
+        binding.toBackButton.setOnClickListener {
+            findNavController().popBackStack()
+        }
+    }
+
+    private fun saveData() {
+        binding.saveUsersData.setOnClickListener {
+            requireView().hideKeyboard()
+            validateUserData()
+        }
+    }
+
+    private fun validateUserData() {
+        visibleProgress(binding.progressBar)
+        invisibleAllViews()
+        viewModel.validate(
+            binding.etIin.text.toString(),
+            binding.etBirthday.text.toString(),
+            binding.etCity.text.toString(),
+            binding.etFio.text.toString(),
+            binding.etPhoneNumber.text.toString(),
+            binding.etLogin.text.toString(),
+            binding.etPassword.text.toString(),
+            binding.etPatronymic.text.toString(),
+            binding.etSurname.text.toString())
+        viewModel.dataValidateLiveData.observe(viewLifecycleOwner, { userRegisterState ->
+            when (userRegisterState) {
+                is UserRegisterState.AllDataEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    showSnackbar(userRegisterState.errorMessage)
+                    binding.etIin.requestFocus()
+                }
+                is UserRegisterState.IinEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etIin)
+                }
+                is UserRegisterState.IinLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etIin.error = userRegisterState.errorMessage
+                    binding.etIin.requestFocus()
+                }
+                is UserRegisterState.FIOEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etFio)
+                }
+                is UserRegisterState.SurnameEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etSurname)
+                }
+                is UserRegisterState.PatronymicEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPatronymic)
+                }
+                is UserRegisterState.CitEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etCity)
+                }
+                is UserRegisterState.BirthdayEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etBirthday)
+                }
+                is UserRegisterState.PhoneNumberEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPhoneNumber)
+                }
+                is UserRegisterState.PhoneNumberLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etPhoneNumber.error = userRegisterState.errorMessage
+                    binding.etPhoneNumber.requestFocus()
+                }
+                is UserRegisterState.LoginValidate -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etLogin.requestFocus()
+                    binding.etLogin.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.PasswordEmpty -> {
+                    invisibleProgress(binding.progressBar)
+                    errorEditsTexts(binding.etPassword)
+                }
+                is UserRegisterState.PasswordLengthLess -> {
+                    invisibleProgress(binding.progressBar)
+                    binding.etPassword.requestFocus()
+                    binding.etPassword.error = userRegisterState.errorMessage
+                }
+                is UserRegisterState.Success -> {
+                    lifecycleScope.launch(Dispatchers.Main) {
+                        updateUserData(binding.etLogin.text.toString(),
+                            binding.etPassword.text.toString())
+                    }
+                }
+            }
+        })
+    }
+
+    private fun updateUserData(login: String, password: String) {
+        currentUser.updatePassword(password)
+        currentUser.updateEmail(login).addOnCompleteListener {
+            if (it.isSuccessful) {
+                try {
+                    saveUsersData(login, password)
+                } catch (e: Exception) {
+                    e.printStackTrace()
+                }
+            } else {
+                try {
+                    throw it.exception!!
+                } catch (existEmail: FirebaseAuthUserCollisionException) {
+                    invisibleProgress(binding.progressBar)
+                    binding.etLogin.error =
+                        "Идентификатор электронной почты уже существует."
+                    binding.etLogin.requestFocus()
+                }
+            }
+        }
+    }
+
+    private fun saveUsersData(
+        login: String,
+        password: String,
+    ) {
+        val id = currentUser.uid
+        val iin = binding.etIin.text.toString()
+        val name = binding.etFio.text.toString()
+        val surname = binding.etSurname.text.toString()
+        val patronymic = binding.etPatronymic.text.toString()
+        val address = binding.etCity.text.toString()
+        PHONE_NUMBER = binding.etPhoneNumber.text.toString()
+        val patient = PatientData(
+            id,
+            iin,
+            name,
+            surname,
+            patronymic,
+            address,
+            birthday,
+            gender,
+            login,
+            password,
+            PHONE_NUMBER,
+            photoUrl)
+        DB.reference.child("patients").child(id).setValue(patient)
+            .addOnCompleteListener { task ->
+                if (task.isSuccessful) {
+                    if (uri == null) {
+                        showSnackbar("Профиль обновлен.")
+                        findNavController().navigate(R.id.action_navigation_change_patient_data_to_navigation_profile)
+                    } else {
+                        savePhoto()
+                    }
+                }
+            }
+    }
+
+    private fun savePhoto() {
+        val path =
+            REF_STORAGE_ROOT.child("images").child(DB.reference.push().key.toString())
+        path.putFile(uri!!)
+            .addOnCompleteListener { task1 ->
+                if (task1.isSuccessful) {
+                    path.downloadUrl.addOnCompleteListener { task2 ->
+                        if (task2.isSuccessful) {
+                            val photoUrl = task2.result.toString()
+                            DB.getReference("/patients/${currentUser.uid}/photoUrl")
+                                .setValue(photoUrl)
+                                .addOnCompleteListener {
+                                    if (it.isSuccessful) {
+                                        showSnackbar("Профиль обновлен.")
+                                        findNavController().navigate(R.id.action_navigation_change_patient_data_to_navigation_profile)
+                                    } else {
+                                        tryOne()
+                                    }
+                                }
+                        } else {
+                            tryOne()
+                        }
+                    }
+                } else {
+                    tryOne()
+                }
+            }
+    }
+
+    private fun tryOne() {
+        Snackbar.make(binding.root,
+            "Попробуйте еще раз.",
+            Snackbar.LENGTH_SHORT).show()
+    }
+
+
+    private fun invisibleProgress(progressBar: ProgressBar) {
+        progressBar.isVisible = false
+        visibleAllViews()
+    }
+
+    private fun invisibleAllViews() {
+        binding.contentAllView.isVisible = false
+    }
+
+    private fun visibleAllViews() {
+        binding.contentAllView.isVisible = true
+    }
+
+    private fun errorEditsTexts(et: EditText) {
+        et.apply {
+            requestFocus()
+            error = "Это обезятельное поле"
+        }
+    }
+
+    private fun setProfileData() {
+        rdbRef = DB.reference
+            .child("patients")
+            .child(currentUser.uid)
+        valueEventListener = rdbRef.addValueEventListener(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                if (snapshot.exists()) {
+                    val data = snapshot.getValue(PatientData::class.java)
+                    binding.apply {
+                        if (data != null) {
+                            gender = data.gender
+                            etIin.setText(data.iin)
+                            etFio.setText(data.name)
+                            etSurname.setText(data.surname)
+                            etPatronymic.setText(data.patronymic)
+                            etBirthday.setText(data.birthday)
+                            birthday = data.birthday
+                            etCity.setText(data.address)
+                            etLogin.setText(data.login)
+                            etPassword.setText(data.password)
+                            password = data.password
+                            login = data.login
+                            loginIsSame = data.login
+                            etPhoneNumber.setText(data.phoneNumber)
+                            photoUrl = data.photoUrl ?: ""
+                            if (data.photoUrl?.isNotEmpty() == true) {
+                                Glide
+                                    .with(requireContext())
+                                    .load(data.photoUrl)
+                                    .centerCrop()
+                                    .into(selectPhoto)
+                            }
+                        }
+                    }
+                } else {
+                    findNavController().navigate(R.id.navigation_login)
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+                TODO("Not yet implemented")
+            }
+        })
+    }
+
+    private fun setDatePicker() {
+        binding.etBirthday.setOnClickListener {
+            val y = cal.get(Calendar.YEAR)
+            val m = cal.get(Calendar.MONTH)
+            val d = cal.get(Calendar.DAY_OF_MONTH)
+            val datePickerDialog =
+                DatePickerDialog(requireContext(), { _, year, monthOfYear, dayOfMonth ->
+                    cal.set(Calendar.YEAR, year)
+                    cal.set(Calendar.MONTH, monthOfYear)
+                    cal.set(Calendar.DAY_OF_MONTH, dayOfMonth)
+                    cal.get(Calendar.YEAR)
+                    cal.get(Calendar.MONTH)
+                    cal.get(Calendar.DAY_OF_MONTH)
+                    birthday = "$dayOfMonth.${monthOfYear}.$year"
+                    val age: Int = getAge(year, monthOfYear, dayOfMonth)
+                    if (checkAge(age)) {
+                        binding.etBirthday.setText(birthday)
+                    } else {
+                        showSnackbar("Пациенту нет 18.")
+                    }
+                }, y, m, d)
+
+            datePickerDialog.show()
+        }
+    }
+
+    private fun checkAge(age: Int) = age >= 18
+
+    private fun getAge(year: Int, month: Int, day: Int): Int {
+        val dob: Calendar = Calendar.getInstance()
+        val today = Calendar.getInstance()
+        dob[year, month] = day
+        var age = today[Calendar.YEAR] - dob[Calendar.YEAR]
+        if (today[Calendar.DAY_OF_YEAR] < dob[Calendar.DAY_OF_YEAR]) {
+            age--
+        }
+        return age
+    }
+
+    override fun onPause() {
+        super.onPause()
+        rdbRef.removeEventListener(valueEventListener)
+//        auth.removeAuthStateListener(authStateListener)
+    }
+
+    override fun onStop() {
+        super.onStop()
+        auth.removeAuthStateListener(authStateListener)
+    }
+
+    override fun onStart() {
+        super.onStart()
+        auth.addAuthStateListener(authStateListener)
+    }
+
+
+}
\ No newline at end of file
Index: app/src/main/res/layout/fragment_change_patient_data.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_change_patient_data.xml b/app/src/main/res/layout/fragment_change_patient_data.xml
new file mode 100644
--- /dev/null	(date 1644821760539)
+++ b/app/src/main/res/layout/fragment_change_patient_data.xml	(date 1644821760539)
@@ -0,0 +1,377 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/background_root"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    tools:context=".ChangePatientDataFragment">
+
+    <ProgressBar
+        android:id="@+id/progressBar"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:layout_constraintTop_toTopOf="parent"
+        android:layout_marginTop="300dp"
+        android:visibility="invisible"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent" />
+
+    <ScrollView
+        android:id="@+id/content_all_view"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent">
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:id="@+id/constraint_layout"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:paddingStart="16dp"
+            android:paddingEnd="16dp"
+            android:paddingBottom="16dp"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toTopOf="parent">
+
+            <ImageView
+                android:id="@+id/to_back_button"
+                android:layout_width="36dp"
+                android:layout_height="36dp"
+                android:background="@drawable/round_fone_icon"
+                android:padding="6dp"
+                android:src="@drawable/ic_back_vector"
+                app:layout_constraintBottom_toBottomOf="@+id/text_register"
+                app:layout_constraintStart_toStartOf="@+id/constraintLayout"
+                app:layout_constraintTop_toTopOf="@+id/text_register" />
+
+            <TextView
+                android:id="@+id/text_register"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="18dp"
+                android:layout_marginTop="24dp"
+                android:text="Данные о пациенте"
+                android:textAlignment="center"
+                android:textColor="#27214D"
+                android:textSize="20sp"
+                android:textStyle="bold"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent" />
+
+            <androidx.constraintlayout.widget.ConstraintLayout
+                android:id="@+id/constraintLayout"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginTop="24dp"
+                android:background="@drawable/round_fone"
+                android:paddingBottom="16dp"
+                android:paddingTop="16dp"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toBottomOf="@+id/text_register">
+
+                <TextView
+                    android:id="@+id/text_iin"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="20dp"
+                    android:text="ИИН"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintTop_toTopOf="parent" />
+
+                <EditText
+                    android:id="@+id/et_iin"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:digits="0123456789"
+                    android:hint="980819000432"
+                    android:inputType="number"
+                    android:maxLength="12"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/text_iin"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/text_iin" />
+
+                <TextView
+                    android:id="@+id/tv_fio"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Имя"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_iin"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_iin" />
+
+                <EditText
+                    android:id="@+id/et_fio"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="Артем"
+                    android:inputType="textPersonName"
+                    android:maxLength="20"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_fio"
+                    app:layout_constraintStart_toStartOf="@+id/tv_fio"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_fio" />
+
+                <TextView
+                    android:id="@+id/tv_lastname"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Фамилия"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_fio"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_fio" />
+
+                <EditText
+                    android:id="@+id/et_surname"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="Артемов"
+                    android:inputType="textPersonName"
+                    android:maxLength="20"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_lastname"
+                    app:layout_constraintHorizontal_bias="0.226"
+                    app:layout_constraintStart_toStartOf="@+id/tv_lastname"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_lastname" />
+
+                <TextView
+                    android:id="@+id/tv_patronymic"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Отчество"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_surname"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_surname" />
+
+                <EditText
+                    android:id="@+id/et_patronymic"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="Артемович"
+                    android:inputType="textPersonName"
+                    android:maxLength="20"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_patronymic"
+                    app:layout_constraintStart_toStartOf="@+id/tv_patronymic"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_patronymic" />
+
+                <TextView
+                    android:id="@+id/tv_city"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Адрес проживания"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_patronymic"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_patronymic" />
+
+                <EditText
+                    android:id="@+id/et_city"
+                    style="@style/Widget.AppCompat.EditText"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="ул куйбышевская 12"
+                    android:maxLength="30"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_city"
+                    app:layout_constraintStart_toStartOf="@+id/tv_city"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_city" />
+
+                <TextView
+                    android:id="@+id/tv_birthday"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Дата рождения"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_city"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_city" />
+
+                <EditText
+                    android:id="@+id/et_birthday"
+                    android:layout_width="match_parent"
+                    android:layout_height="52dp"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:clickable="true"
+                    android:cursorVisible="false"
+                    android:focusable="false"
+                    android:focusableInTouchMode="false"
+                    android:hint="12.08.2010"
+                    android:inputType="date"
+                    android:maxLength="50"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_birthday"
+                    app:layout_constraintStart_toStartOf="@+id/tv_birthday"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_birthday" />
+
+                <TextView
+                    android:id="@+id/tv_phone_number"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Номер телефона"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_birthday"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_birthday" />
+
+                <EditText
+                    android:id="@+id/et_phone_number"
+                    style="@style/Widget.AppCompat.EditText"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="+7 705 559 7335"
+                    android:inputType="phone"
+                    android:maxLength="12"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_phone_number"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_phone_number" />
+
+                <TextView
+                    android:id="@+id/tv_login"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Логин"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_phone_number"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_phone_number" />
+
+                <EditText
+                    android:id="@+id/et_login"
+                    style="@style/Widget.AppCompat.EditText"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="seoleo96@gmail.com"
+                    android:inputType="textEmailAddress"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_login"
+                    app:layout_constraintStart_toStartOf="@+id/et_fio"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_login" />
+
+
+                <TextView
+                    android:id="@+id/tv_password"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="8dp"
+                    android:text="Пароль"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/et_login"
+                    app:layout_constraintStart_toStartOf="@+id/text_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/et_login" />
+
+                <EditText
+                    android:id="@+id/et_password"
+                    style="@style/Widget.AppCompat.EditText"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:background="@drawable/phone_number_round"
+                    android:hint="123456"
+                    android:inputType="textVisiblePassword"
+                    android:maxLines="1"
+                    android:padding="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_password"
+                    app:layout_constraintStart_toStartOf="@+id/et_birthday"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_password"
+                    tools:ignore="TextFields" />
+
+                <ImageView
+                    android:id="@+id/select_photo"
+                    android:layout_width="50dp"
+                    android:layout_height="50dp"
+                    android:layout_marginTop="16dp"
+                    android:layout_marginEnd="8dp"
+                    android:background="@drawable/ic_baseline_add_a_photo_24"
+                    app:layout_constraintEnd_toEndOf="@+id/et_password"
+                    app:layout_constraintTop_toBottomOf="@+id/et_password" />
+
+            </androidx.constraintlayout.widget.ConstraintLayout>
+
+            <com.google.android.material.button.MaterialButton
+                android:id="@+id/save_users_data"
+                android:layout_width="380dp"
+                android:layout_height="@dimen/button_height"
+                android:layout_marginStart="16dp"
+                android:layout_marginTop="16dp"
+                android:layout_marginEnd="16dp"
+                android:layout_marginBottom="16dp"
+                android:backgroundTint="#2E58AB"
+                android:text="Сохранить"
+                app:cornerRadius="8dp"
+                app:layout_constraintEnd_toEndOf="@+id/constraintLayout"
+                app:layout_constraintStart_toStartOf="@+id/constraintLayout"
+                app:layout_constraintTop_toBottomOf="@+id/constraintLayout" />
+
+        </androidx.constraintlayout.widget.ConstraintLayout>
+    </ScrollView>
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"purple_200\">#FFBB86FC</color>\r\n    <color name=\"purple_500\">#FF6200EE</color>\r\n    <color name=\"purple_700\">#FF3700B3</color>\r\n    <color name=\"teal_200\">#FF03DAC5</color>\r\n    <color name=\"teal_700\">#FF018786</color>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"white\">#FFFFFFFF</color>\r\n    <color name=\"otp_edittext_color\">#F3F2F6</color>\r\n\r\n</resources>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
--- a/app/src/main/res/values/colors.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/values/colors.xml	(date 1644571557316)
@@ -8,6 +8,11 @@
     <color name="black">#FF000000</color>
     <color name="white">#FFFFFFFF</color>
     <color name="otp_edittext_color">#F3F2F6</color>
+    <color name="background_color">#EDFCFF</color>
+    <color name="background_icon">#CCFFFFFF</color>
+    <color name="icon_color">#2E58AB</color>
+    <color name="defaultColor">#99A2AD</color>
+    <color name="background_root">#EDFCFF</color>
 
 </resources>
 
Index: app/src/main/res/drawable/ic_about_clinic.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_about_clinic.xml b/app/src/main/res/drawable/ic_about_clinic.xml
new file mode 100644
--- /dev/null	(date 1644463492865)
+++ b/app/src/main/res/drawable/ic_about_clinic.xml	(date 1644463492865)
@@ -0,0 +1,10 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="25dp"
+    android:height="25dp"
+    android:viewportWidth="25"
+    android:viewportHeight="25">
+  <path
+      android:pathData="M25,12.5C25,19.4036 19.4036,25 12.5,25C5.5964,25 0,19.4036 0,12.5C0,5.5964 5.5964,0 12.5,0C19.4036,0 25,5.5964 25,12.5ZM10,6.25C10,4.8693 11.1193,3.75 12.5,3.75C13.8807,3.75 15,4.8693 15,6.25C15,7.6307 13.8807,8.75 12.5,8.75C11.1193,8.75 10,7.6307 10,6.25ZM12.5,11.25C11.1193,11.25 10,12.3693 10,13.75V18.75C10,20.1307 11.1193,21.25 12.5,21.25C13.8807,21.25 15,20.1307 15,18.75V13.75C15,12.3693 13.8807,11.25 12.5,11.25Z"
+      android:fillColor="#99A2AD"
+      android:fillType="evenOdd"/>
+</vector>
Index: app/src/main/res/layout/fragment_clinic.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_clinic.xml b/app/src/main/res/layout/fragment_clinic.xml
new file mode 100644
--- /dev/null	(date 1644504648647)
+++ b/app/src/main/res/layout/fragment_clinic.xml	(date 1644504648647)
@@ -0,0 +1,293 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/background_color"
+    tools:context="com.example.testmed.aboutclinic.presentation.ClinicFragment">
+
+    <ProgressBar
+        android:id="@+id/progressBar"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:layout_constraintTop_toTopOf="parent"
+        android:layout_marginTop="300dp"
+        android:visibility="invisible"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent" />
+
+
+    <ScrollView
+        android:id="@+id/content_all_view"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent">
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:id="@+id/constraint_layout"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:paddingStart="16dp"
+            android:paddingEnd="16dp"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toTopOf="parent">
+
+            <TextView
+                android:id="@+id/text_register"
+                android:layout_width="0dp"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="18dp"
+                android:layout_marginEnd="18dp"
+                android:layout_marginTop="24dp"
+                android:text="О клинике"
+                android:textAlignment="center"
+                android:textColor="#27214D"
+                android:textSize="20sp"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent" />
+
+            <androidx.constraintlayout.widget.ConstraintLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginTop="24dp"
+                android:background="@drawable/round_fone"
+                android:paddingBottom="16dp"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toBottomOf="@+id/text_register">
+
+
+                <androidx.viewpager.widget.ViewPager
+                    android:id="@+id/view_pager"
+                    android:layout_width="wrap_content"
+                    android:paddingStart="24dp"
+                    android:paddingEnd="24dp"
+                    android:layout_height="260dp"
+                    android:background="@drawable/round_fone"
+                    app:layout_constraintEnd_toEndOf="parent"
+                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintTop_toTopOf="parent" />
+
+                <View
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/view_pager"
+                    app:layout_constraintTop_toBottomOf="@id/view_pager"
+                    app:layout_constraintStart_toStartOf="@+id/view_pager" />
+
+                <TextView
+                    android:id="@+id/tv_clinic_name"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:text="Название"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    android:layout_marginTop="24dp"
+                    android:layout_marginStart="22dp"
+                    app:layout_constraintEnd_toEndOf="parent"
+                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintTop_toBottomOf="@+id/view_pager" />
+
+                <TextView
+                    android:id="@+id/clinic_name"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginEnd="16dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:layout_marginTop="2dp"
+                    android:paddingBottom="8dp"
+                    android:maxWidth="300dp"
+                    android:textSize="16sp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_clinic_name"
+                    app:layout_constraintStart_toStartOf="@+id/tv_clinic_name"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_clinic_name"
+                     />
+
+
+                <View
+                    android:id="@+id/line1"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/clinic_name"
+                    app:layout_constraintTop_toBottomOf="@id/clinic_name"
+                    app:layout_constraintStart_toStartOf="@+id/clinic_name" />
+
+
+                <TextView
+                    android:id="@+id/tv_address"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:text="Адрес"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    android:layout_marginTop="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/line1"
+                    app:layout_constraintStart_toStartOf="@+id/tv_clinic_name"
+                    app:layout_constraintTop_toBottomOf="@+id/line1" />
+
+                <TextView
+                    android:id="@+id/address"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:textSize="16sp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:layout_marginTop="2dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_address"
+                    app:layout_constraintStart_toStartOf="@+id/tv_address"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_address"
+                     />
+
+                <View
+                    android:id="@+id/line2"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:background="#c0c0c0"
+                    android:layout_marginTop="4dp"
+                    app:layout_constraintEnd_toEndOf="@id/address"
+                    app:layout_constraintTop_toBottomOf="@id/address"
+                    app:layout_constraintStart_toStartOf="@+id/address" />
+
+
+                <TextView
+                    android:id="@+id/tv_email"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:text="Почта"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    android:layout_marginTop="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/line2"
+                    app:layout_constraintStart_toStartOf="@+id/tv_clinic_name"
+                    app:layout_constraintTop_toBottomOf="@+id/line2" />
+
+                <TextView
+                    android:id="@+id/email"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:layout_marginTop="2dp"
+                    android:paddingBottom="8dp"
+                    android:textSize="16sp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_email"
+                    app:layout_constraintStart_toStartOf="@+id/tv_email"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_email"
+                     />
+
+                <View
+                    android:id="@+id/line3"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:background="#c0c0c0"
+                    android:layout_marginTop="4dp"
+                    app:layout_constraintEnd_toEndOf="@id/email"
+                    app:layout_constraintTop_toBottomOf="@id/email"
+                    app:layout_constraintStart_toStartOf="@+id/email" />
+
+
+
+                <TextView
+                    android:id="@+id/tv_link"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:text="Сайт клиники"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    android:layout_marginTop="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/line3"
+                    app:layout_constraintStart_toStartOf="@+id/tv_clinic_name"
+                    app:layout_constraintTop_toBottomOf="@+id/line3" />
+
+                <TextView
+                    android:id="@+id/link"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:textSize="16sp"
+                    android:text=""
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:textColor="@color/black"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_link"
+                    app:layout_constraintStart_toStartOf="@+id/tv_link"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_link"
+                     />
+
+                <View
+                    android:id="@+id/line4"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/link"
+                    app:layout_constraintTop_toBottomOf="@id/link"
+                    app:layout_constraintStart_toStartOf="@+id/link" />
+
+
+                <TextView
+                    android:id="@+id/tv_phone_number"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:text="Номер телефона клиники"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    android:layout_marginTop="16dp"
+                    app:layout_constraintEnd_toEndOf="@+id/link"
+                    app:layout_constraintStart_toStartOf="@+id/tv_clinic_name"
+                    app:layout_constraintTop_toBottomOf="@+id/link" />
+
+                <TextView
+                    android:id="@+id/phone_number"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:textSize="16sp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:layout_marginTop="2dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_phone_number"
+                    app:layout_constraintStart_toStartOf="@+id/tv_phone_number"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_phone_number"
+                     />
+
+
+            </androidx.constraintlayout.widget.ConstraintLayout>
+        </androidx.constraintlayout.widget.ConstraintLayout>
+    </ScrollView>
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/aboutclinic/presentation/ClinicFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/aboutclinic/presentation/ClinicFragment.kt b/app/src/main/java/com/example/testmed/aboutclinic/presentation/ClinicFragment.kt
new file mode 100644
--- /dev/null	(date 1644566687775)
+++ b/app/src/main/java/com/example/testmed/aboutclinic/presentation/ClinicFragment.kt	(date 1644566687775)
@@ -0,0 +1,60 @@
+package com.example.testmed.aboutclinic.presentation
+
+import android.os.Bundle
+import android.view.View
+import com.example.testmed.DB
+import com.example.testmed.R
+import com.example.testmed.base.BaseFragment
+import com.example.testmed.databinding.FragmentClinicBinding
+import com.example.testmed.model.ClinicData
+import com.example.testmed.showSnackbar
+import com.google.firebase.database.DataSnapshot
+import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.DatabaseReference
+import com.google.firebase.database.ValueEventListener
+
+class ClinicFragment : BaseFragment<FragmentClinicBinding>(FragmentClinicBinding::inflate) {
+
+    private lateinit var valueEventListener: ValueEventListener
+    private lateinit var rdbRef: DatabaseReference
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        var imgs = listOf<Int>(R.drawable.c2,R.drawable.c4,R.drawable.c5, R.drawable.c6)
+
+        var adapter: ViewPagerAdapter = ViewPagerAdapter()
+        adapter.setList(imgs)
+        binding.viewPager.adapter = adapter
+        setUpData()
+    }
+
+    private fun setUpData() {
+        rdbRef = DB.reference
+            .child("clinic")
+            valueEventListener = rdbRef.addValueEventListener(object : ValueEventListener {
+                override fun onDataChange(snapshot: DataSnapshot) {
+                    val data = snapshot.getValue(ClinicData::class.java)
+                    binding.apply {
+                        if (data != null){
+                            clinicName.text = data.name
+                            email.text = data.email
+                            link.text = data.link
+                            phoneNumber.text = data.phoneNumber
+                            address.text = data.address
+                        }else{
+                            showSnackbar("Проверьте интернет подключение.")
+                        }
+                    }
+                }
+
+                override fun onCancelled(error: DatabaseError) {
+                    TODO("Not yet implemented")
+                }
+            })
+    }
+
+    override fun onPause() {
+        super.onPause()
+        rdbRef.removeEventListener(valueEventListener)
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegisterState.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegisterState.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegisterState.kt
new file mode 100644
--- /dev/null	(date 1644473151005)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegisterState.kt	(date 1644473151005)
@@ -0,0 +1,20 @@
+package com.example.testmed.registeruser.domain.usecase
+
+sealed class UserRegisterState{
+    object Loading : UserRegisterState()
+    data class AllDataEmpty(val errorMessage: String): UserRegisterState()
+    object IinEmpty: UserRegisterState()
+    data class IinLengthLess(val errorMessage: String): UserRegisterState()
+    object FIOEmpty : UserRegisterState()
+    object SurnameEmpty : UserRegisterState()
+    object PatronymicEmpty : UserRegisterState()
+    object CitEmpty : UserRegisterState()
+    object BirthdayEmpty : UserRegisterState()
+    object PhoneNumberEmpty : UserRegisterState()
+    data class PhoneNumberLengthLess(val errorMessage: String) : UserRegisterState()
+    object LoginEmpty : UserRegisterState()
+    data class LoginValidate(val errorMessage: String) : UserRegisterState()
+    object PasswordEmpty : UserRegisterState()
+    data class PasswordLengthLess(val errorMessage: String) : UserRegisterState()
+    object Success : UserRegisterState()
+}
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegistrationValidate.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegistrationValidate.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegistrationValidate.kt
new file mode 100644
--- /dev/null	(date 1644563489522)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/UserRegistrationValidate.kt	(date 1644563489522)
@@ -0,0 +1,92 @@
+package com.example.testmed.registeruser.domain.usecase
+
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.flow
+import java.util.regex.Pattern
+
+class UserRegistrationValidate : IUserRegistrationValidate {
+    private val EMAIL_ADDRESS_PATTERN = Pattern.compile(
+        "[a-zA-Z0-9\\+\\.\\_\\%\\-\\+]{1,256}" +
+                "\\@" +
+                "[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}" +
+                "(" +
+                "\\." +
+                "[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25}" +
+                ")+"
+    )
+    override fun validate(
+        etIin: String,
+        etBirthday: String,
+        etCity: String,
+        etFio: String,
+        etPhoneNumber: String,
+        etLogin: String,
+        etPassword: String,
+        etPatronymic: String,
+        etSurname: String,
+    ): Flow<UserRegisterState> {
+        if (etIin.isEmpty() && etBirthday.isEmpty() && etCity.isEmpty() &&
+            etFio.isEmpty() && etLogin.isEmpty() &&
+            etPassword.isEmpty() && etPatronymic.isEmpty() && etSurname.isEmpty()
+        ) {
+            return flow {
+                emit(UserRegisterState.AllDataEmpty("Запольните всех полей."))
+            }
+        } else if (etIin.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.IinEmpty)
+            }
+        } else if (etIin.length < 12) {
+            return flow {
+                emit(UserRegisterState.IinLengthLess("Номер ИИН должен быть 12 цифр, попробуйте еще раз."))
+            }
+        } else if (etFio.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.FIOEmpty)
+            }
+        } else if (etSurname.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.SurnameEmpty)
+            }
+        } else if (etPatronymic.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.PatronymicEmpty)
+            }
+        } else if (etCity.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.CitEmpty)
+            }
+        } else if (etBirthday.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.BirthdayEmpty)
+            }
+        } else if (etPhoneNumber.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.PhoneNumberEmpty)
+            }
+        } else if (etPhoneNumber.length < 12) {
+            return flow {
+                emit(UserRegisterState.PhoneNumberLengthLess("Номер телефона не соответсвует, попробуйте еще раз"))
+            }
+        } else if (etLogin.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.LoginEmpty)
+            }
+        } else if(!EMAIL_ADDRESS_PATTERN.matcher(etLogin).matches()){
+            return flow {
+                emit(UserRegisterState.LoginValidate("Недействительные учетные данные, попробуйте еще раз."))
+            }
+        } else if (etPassword.isEmpty()) {
+            return flow {
+                emit(UserRegisterState.PasswordEmpty)
+            }
+        }  else if (etPassword.length <6) {
+            return flow {
+                emit(UserRegisterState.PasswordLengthLess("Длина пароля должна быть более шести символов."))
+            }
+        } else
+            return flow {
+                emit(UserRegisterState.Success)
+            }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/registeruser/domain/usecase/IUserRegistrationValidate.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/domain/usecase/IUserRegistrationValidate.kt b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/IUserRegistrationValidate.kt
new file mode 100644
--- /dev/null	(date 1644576349539)
+++ b/app/src/main/java/com/example/testmed/registeruser/domain/usecase/IUserRegistrationValidate.kt	(date 1644576349539)
@@ -0,0 +1,11 @@
+package com.example.testmed.registeruser.domain.usecase
+
+import kotlinx.coroutines.flow.Flow
+
+interface IUserRegistrationValidate {
+    fun validate(
+        etIin: String, etBirthday: String, etCity: String,
+        etFio: String, etPhoneNumber: String, etLogin: String,
+        etPassword: String, etPatronymic: String, etSurname: String,
+    ): Flow<UserRegisterState>
+}
\ No newline at end of file
Index: app/src/main/res/menu/bottom_nav_menu_doctor.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n\r\n    <item\r\n        android:id=\"@+id/navigation_home\"\r\n        android:icon=\"@drawable/ic_home_black_24dp\"\r\n        android:title=\"@string/title_home\" />\r\n\r\n    <item\r\n        android:id=\"@+id/navigation_dashboard\"\r\n        android:icon=\"@drawable/ic_dashboard_black_24dp\"\r\n        android:title=\"@string/title_dashboard\" />\r\n\r\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/menu/bottom_nav_menu_doctor.xml b/app/src/main/res/menu/bottom_nav_menu_doctor.xml
--- a/app/src/main/res/menu/bottom_nav_menu_doctor.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/menu/bottom_nav_menu_doctor.xml	(date 1644464118609)
@@ -7,8 +7,8 @@
         android:title="@string/title_home" />
 
     <item
-        android:id="@+id/navigation_dashboard"
+        android:id="@+id/navigation_chats"
         android:icon="@drawable/ic_dashboard_black_24dp"
-        android:title="@string/title_dashboard" />
+        android:title="@string/title_profile" />
 
 </menu>
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable-v24/otp_code_fone.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/button_round.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/button_rount.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/fone_vector.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/ic_baseline_add_a_photo_24.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/ic_group_970.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/otp_cede_fone1.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/phone_number_round.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/round_fone.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/drawable/select_photo_vector.xml\" value=\"0.24375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/activity_main.xml\" value=\"0.2234375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/activity_main_doctor.xml\" value=\"0.21979166666666666\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/activity_select_user.xml\" value=\"0.21979166666666666\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_blank.xml\" value=\"0.21979166666666666\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_enter_code.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_home.xml\" value=\"0.21979166666666666\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_login.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_notifications.xml\" value=\"0.2234375\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_register.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/layout/fragment_user_data_sign_out.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/menu/bottom_nav_menu.xml\" value=\"0.21979166666666666\" />\r\n        <entry key=\"..\\:/android_projects/testmed/app/src/main/res/menu/bottom_nav_menu_doctor.xml\" value=\"0.21979166666666666\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/.idea/misc.xml	(date 1644829896829)
@@ -4,25 +4,41 @@
     <option name="filePathToZoomLevelMap">
       <map>
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable-v24/otp_code_fone.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable-v24/round_fone_icon.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable-v24/round_fone_image.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/bottom_nav_selected.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/button_round.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/button_rount.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/fone_vector.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_back_icon.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_back_vector.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_baseline_add_a_photo_24.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_group_970.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_launcher_background.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_profile.xml" value="0.11944444444444445" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/ic_profile_large.xml" value="0.11944444444444445" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/otp_cede_fone1.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/phone_number_round.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/round_fone.xml" value="0.24375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/round_view_pager.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/drawable/select_photo_vector.xml" value="0.24375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/activity_main.xml" value="0.2234375" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/activity_main_doctor.xml" value="0.21979166666666666" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/activity_select_user.xml" value="0.21979166666666666" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_blank.xml" value="0.21979166666666666" />
-        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_enter_code.xml" value="0.1" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_change_patient_data.xml" value="0.1" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_chats.xml" value="0.2234375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_clinic.xml" value="0.3221216041397154" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_dashboard.xml" value="0.264" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_enter_code.xml" value="0.536" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_home.xml" value="0.21979166666666666" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_login.xml" value="0.264" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_notifications.xml" value="0.2234375" />
-        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_register.xml" value="0.264" />
-        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_user_data_sign_out.xml" value="0.4" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_profile.xml" value="0.1" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_register.xml" value="0.2" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/fragment_user_data_sign_out.xml" value="0.3695090439276486" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/item_slider.xml" value="0.2234375" />
+        <entry key="..\:/android_projects/testmed/app/src/main/res/layout/item_view_pager.xml" value="0.10833333333333334" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/menu/bottom_nav_menu.xml" value="0.21979166666666666" />
         <entry key="..\:/android_projects/testmed/app/src/main/res/menu/bottom_nav_menu_doctor.xml" value="0.21979166666666666" />
       </map>
Index: app/src/main/res/drawable/ic_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_profile.xml b/app/src/main/res/drawable/ic_profile.xml
new file mode 100644
--- /dev/null	(date 1644463420019)
+++ b/app/src/main/res/drawable/ic_profile.xml	(date 1644463420019)
@@ -0,0 +1,12 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="25dp"
+    android:height="25dp"
+    android:viewportWidth="25"
+    android:viewportHeight="25">
+  <path
+      android:pathData="M5.08,6.9444C5.08,3.1091 8.4021,0 12.5,0C16.5979,0 19.92,3.1091 19.92,6.9444C19.92,10.7798 16.5979,13.8889 12.5,13.8889C8.4021,13.8889 5.08,10.7798 5.08,6.9444Z"
+      android:fillColor="#99A2AD"/>
+  <path
+      android:pathData="M12.5,16.6667C8.1451,16.6667 4.2283,17.7201 1.5136,19.3979C-1.906,21.5114 0.9821,25 5.08,25H19.92C24.0179,25 26.906,21.5114 23.4864,19.3979C20.7717,17.7201 16.8549,16.6667 12.5,16.6667Z"
+      android:fillColor="#99A2AD"/>
+</vector>
Index: app/src/main/res/drawable/round_view_pager.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/round_view_pager.xml b/app/src/main/res/drawable/round_view_pager.xml
new file mode 100644
--- /dev/null	(date 1644484242865)
+++ b/app/src/main/res/drawable/round_view_pager.xml	(date 1644484242865)
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+
+    <solid android:color="#33FFFFFF"/>
+
+    <stroke
+        android:color="#33FFFFFF"
+        android:width="1dp"/>
+
+    <corners android:radius="20dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/res/drawable/ic_chats.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_chats.xml b/app/src/main/res/drawable/ic_chats.xml
new file mode 100644
--- /dev/null	(date 1644463354546)
+++ b/app/src/main/res/drawable/ic_chats.xml	(date 1644463354546)
@@ -0,0 +1,10 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="25dp"
+    android:height="25dp"
+    android:viewportWidth="25"
+    android:viewportHeight="25">
+  <path
+      android:pathData="M18.669,23.271C16.8489,24.3012 14.7435,24.8896 12.5,24.8896C5.5964,24.8896 0,19.3179 0,12.4448C0,5.5717 5.5964,0 12.5,0C19.4036,0 25,5.5717 25,12.4448C25,15.2683 24.0555,17.8722 22.464,19.9604L23.7059,23.0513C24.1674,24.2002 23.1158,25.3791 22.0712,24.8839L18.669,23.271ZM10.625,12.4448C10.625,11.2993 11.4645,10.3707 12.5,10.3707C13.5355,10.3707 14.375,11.2993 14.375,12.4448C14.375,13.5903 13.5355,14.5189 12.5,14.5189C11.4645,14.5189 10.625,13.5903 10.625,12.4448ZM6.25,10.3707C5.2145,10.3707 4.375,11.2993 4.375,12.4448C4.375,13.5903 5.2145,14.5189 6.25,14.5189C7.2855,14.5189 8.125,13.5903 8.125,12.4448C8.125,11.2993 7.2855,10.3707 6.25,10.3707ZM16.875,12.4448C16.875,11.2993 17.7145,10.3707 18.75,10.3707C19.7855,10.3707 20.625,11.2993 20.625,12.4448C20.625,13.5903 19.7855,14.5189 18.75,14.5189C17.7145,14.5189 16.875,13.5903 16.875,12.4448Z"
+      android:fillColor="#99A2AD"
+      android:fillType="evenOdd"/>
+</vector>
Index: app/src/main/java/com/example/testmed/registeruser/presentation/viewmodel/UserDataSignOutViewModel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/registeruser/presentation/viewmodel/UserDataSignOutViewModel.kt b/app/src/main/java/com/example/testmed/registeruser/presentation/viewmodel/UserDataSignOutViewModel.kt
new file mode 100644
--- /dev/null	(date 1644383082991)
+++ b/app/src/main/java/com/example/testmed/registeruser/presentation/viewmodel/UserDataSignOutViewModel.kt	(date 1644383082991)
@@ -0,0 +1,33 @@
+package com.example.testmed.registeruser.presentation.viewmodel
+
+import androidx.lifecycle.LiveData
+import androidx.lifecycle.MutableLiveData
+import androidx.lifecycle.ViewModel
+import androidx.lifecycle.viewModelScope
+import com.example.testmed.registeruser.domain.usecase.IUserRegistrationValidate
+import com.example.testmed.registeruser.domain.usecase.UserRegisterState
+import kotlinx.coroutines.Dispatchers
+import kotlinx.coroutines.flow.collect
+import kotlinx.coroutines.launch
+
+class UserDataSignOutViewModel(
+    private val userRegistrationValidate: IUserRegistrationValidate,
+) : ViewModel() {
+
+    private val _dataValidateLiveData: MutableLiveData<UserRegisterState> = MutableLiveData<UserRegisterState>()
+    val dataValidateLiveData : LiveData<UserRegisterState> = _dataValidateLiveData
+
+    fun validate(
+        etIin: String, etBirthday: String, etCity: String,
+        etFio: String, etPhoneNumber: String, etLogin: String,
+        etPassword: String, etPatronymic: String, etSurname: String,
+    ) {
+        viewModelScope.launch(Dispatchers.Main) {
+            userRegistrationValidate.validate(etIin, etBirthday, etCity,
+                etFio, etPhoneNumber, etLogin,
+                etPassword, etPatronymic, etSurname).collect {
+                    _dataValidateLiveData.value = it
+            }
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/testmed/ui/dashboard/ChatsFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/ui/dashboard/ChatsFragment.kt b/app/src/main/java/com/example/testmed/ui/dashboard/ChatsFragment.kt
new file mode 100644
--- /dev/null	(date 1644502293823)
+++ b/app/src/main/java/com/example/testmed/ui/dashboard/ChatsFragment.kt	(date 1644502293823)
@@ -0,0 +1,19 @@
+package com.example.testmed.ui.dashboard
+
+import android.os.Bundle
+import android.view.View
+import androidx.lifecycle.ViewModelProvider
+import com.example.testmed.base.BaseFragment
+import com.example.testmed.databinding.FragmentChatsBinding
+
+class ChatsFragment : BaseFragment<FragmentChatsBinding>(FragmentChatsBinding::inflate) {
+
+    private lateinit var vm: DashboardViewModel
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        vm = ViewModelProvider(this)[DashboardViewModel::class.java]
+
+    }
+
+}
\ No newline at end of file
Index: app/src/main/res/drawable/ic_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/ic_home.xml b/app/src/main/res/drawable/ic_home.xml
new file mode 100644
--- /dev/null	(date 1644463061098)
+++ b/app/src/main/res/drawable/ic_home.xml	(date 1644463061098)
@@ -0,0 +1,9 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="25dp"
+    android:height="25dp"
+    android:viewportWidth="25"
+    android:viewportHeight="25">
+  <path
+      android:pathData="M0.4343,9.1114L11.4586,0.3431C12.0337,-0.1144 12.9663,-0.1144 13.5414,0.3431L24.5657,9.1114C25.4935,9.8493 24.8364,11.1111 23.5243,11.1111H22.5V23.6111C22.5,24.3782 21.9404,25 21.25,25H16.25C15.5596,25 15,24.3782 15,23.6111V18.0556C15,17.2885 14.4404,16.6667 13.75,16.6667H11.25C10.5596,16.6667 10,17.2885 10,18.0556V23.6111C10,24.3782 9.4403,25 8.75,25H3.75C3.0596,25 2.5,24.3782 2.5,23.6111V11.1111H1.4757C0.1636,11.1111 -0.4935,9.8493 0.4343,9.1114Z"
+      android:fillColor="#99A2AD"/>
+</vector>
Index: app/src/main/res/layout/item_view_pager.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_view_pager.xml b/app/src/main/res/layout/item_view_pager.xml
new file mode 100644
--- /dev/null	(date 1644487250361)
+++ b/app/src/main/res/layout/item_view_pager.xml	(date 1644487250361)
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ImageView android:id="@+id/iv_item"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="300dp"
+    android:orientation="vertical"
+    android:layout_gravity="center"
+    android:background="@drawable/round_fone"
+    android:layout_height="300dp"/>
+
Index: app/src/main/java/com/example/testmed/aboutclinic/presentation/ViewPagerAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/testmed/aboutclinic/presentation/ViewPagerAdapter.kt b/app/src/main/java/com/example/testmed/aboutclinic/presentation/ViewPagerAdapter.kt
new file mode 100644
--- /dev/null	(date 1644500088783)
+++ b/app/src/main/java/com/example/testmed/aboutclinic/presentation/ViewPagerAdapter.kt	(date 1644500088783)
@@ -0,0 +1,38 @@
+package com.example.testmed.aboutclinic.presentation
+
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import android.widget.ImageView
+import androidx.viewpager.widget.PagerAdapter
+import com.example.testmed.R
+
+class ViewPagerAdapter : PagerAdapter() {
+
+    private var list = listOf<Int>()
+
+    fun setList(list: List<Int>) {
+        this.list = list
+    }
+
+    override fun getCount(): Int {
+        return list.size
+    }
+
+    override fun isViewFromObject(view: View, `object`: Any): Boolean {
+        return view == `object`
+    }
+
+    override fun instantiateItem(container: ViewGroup, position: Int): Any {
+        val view = LayoutInflater.from(container.context)
+            .inflate(R.layout.item_view_pager, container, false)
+        val img = view.findViewById<ImageView>(R.id.iv_item)
+        img.setImageResource(list[position])
+        container.addView(view, 0)
+        return view
+    }
+
+    override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {
+        container.removeView(`object` as View)
+    }
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:id=\"@+id/container\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"0dp\"\r\n        android:layout_marginEnd=\"0dp\"\r\n        android:background=\"?android:attr/windowBackground\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:menu=\"@menu/bottom_nav_menu\" />\r\n\r\n    <fragment\r\n        android:id=\"@+id/nav_host_fragment_activity_main\"\r\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        app:defaultNavHost=\"true\"\r\n        app:layout_constraintBottom_toTopOf=\"@id/nav_view\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:navGraph=\"@navigation/mobile_navigation\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml
--- a/app/src/main/res/layout/activity_main.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/layout/activity_main.xml	(date 1644465916706)
@@ -15,7 +15,10 @@
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintLeft_toLeftOf="parent"
         app:layout_constraintRight_toRightOf="parent"
-        app:menu="@menu/bottom_nav_menu" />
+        app:menu="@menu/bottom_nav_menu"
+        app:itemIconTint="@drawable/bottom_nav_selected"
+        app:itemTextColor="@drawable/bottom_nav_selected"
+        />
 
     <fragment
         android:id="@+id/nav_host_fragment_activity_main"
Index: app/src/main/res/layout/fragment_chats.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_chats.xml b/app/src/main/res/layout/fragment_chats.xml
new file mode 100644
--- /dev/null	(date 1644502193920)
+++ b/app/src/main/res/layout/fragment_chats.xml	(date 1644502193920)
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/background_color"
+    tools:context=".ui.dashboard.ChatsFragment">
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_profile.xml b/app/src/main/res/layout/fragment_profile.xml
new file mode 100644
--- /dev/null	(date 1644815589341)
+++ b/app/src/main/res/layout/fragment_profile.xml	(date 1644815589341)
@@ -0,0 +1,451 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/background_color"
+    tools:context=".ui.notifications.ProfileFragment">
+
+    <ProgressBar
+        android:id="@+id/progressBar"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="300dp"
+        android:visibility="invisible"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <ScrollView
+        android:id="@+id/content_all_view"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent">
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:id="@+id/constraint_layout"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:paddingStart="16dp"
+            android:paddingEnd="16dp"
+            android:paddingBottom="16dp"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toTopOf="parent">
+
+            <TextView
+                android:id="@+id/text_register"
+                android:layout_width="0dp"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="18dp"
+                android:layout_marginTop="24dp"
+                android:layout_marginEnd="18dp"
+                android:fontFamily="monospace"
+                android:text="Профиль"
+                android:textAlignment="center"
+                android:textColor="#27214D"
+                android:textSize="20sp"
+                android:textStyle="bold"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent" />
+
+            <androidx.constraintlayout.widget.ConstraintLayout
+                android:id="@+id/constraint2"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginTop="24dp"
+                android:background="@drawable/round_fone"
+                android:paddingBottom="16dp"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toBottomOf="@+id/text_register">
+
+                <androidx.cardview.widget.CardView
+                    android:id="@+id/card_view"
+                    android:layout_width="200dp"
+                    android:layout_height="200dp"
+                    android:elevation="10dp"
+                    android:padding="4dp"
+                    android:layout_marginTop="16dp"
+                    app:layout_constraintEnd_toEndOf="parent"
+                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintTop_toTopOf="parent"
+                    app:cardCornerRadius="20dp">
+
+                    <ImageView
+                        android:id="@+id/image_view"
+                        android:layout_width="200dp"
+                        android:layout_height="200dp"
+                        android:background="@drawable/round_fone_image"
+                        android:src="@drawable/ic_profile_large"
+                        app:layout_constraintEnd_toEndOf="parent"
+                        app:layout_constraintStart_toStartOf="parent"
+                        app:layout_constraintTop_toTopOf="parent" />
+                </androidx.cardview.widget.CardView>
+
+
+                <View
+                    android:id="@+id/line0"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="16dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/card_view"
+                    app:layout_constraintStart_toStartOf="@+id/card_view"
+                    app:layout_constraintTop_toBottomOf="@id/card_view" />
+
+                <TextView
+                    android:id="@+id/tv_iin"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="22dp"
+                    android:layout_marginTop="16dp"
+                    android:text="ИИН"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="parent"
+                    app:layout_constraintStart_toStartOf="parent"
+                    app:layout_constraintTop_toBottomOf="@+id/line0" />
+
+                <TextView
+                    android:id="@+id/iin"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_iin"
+                    app:layout_constraintStart_toStartOf="@+id/tv_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_iin" />
+
+
+                <View
+                    android:id="@+id/line1"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/iin"
+                    app:layout_constraintStart_toStartOf="@+id/iin"
+                    app:layout_constraintTop_toBottomOf="@id/iin" />
+
+
+                <TextView
+                    android:id="@+id/tv_full_name"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="ФИО"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line1"
+                    app:layout_constraintStart_toStartOf="@+id/tv_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/line1" />
+
+                <TextView
+                    android:id="@+id/full_name"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_full_name"
+                    app:layout_constraintStart_toStartOf="@+id/tv_full_name"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_full_name" />
+
+                <View
+                    android:id="@+id/line2"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/full_name"
+                    app:layout_constraintStart_toStartOf="@+id/full_name"
+                    app:layout_constraintTop_toBottomOf="@id/full_name" />
+
+
+                <TextView
+                    android:id="@+id/tv_birthday"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Дата рождения"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line2"
+                    app:layout_constraintStart_toStartOf="@+id/tv_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/line2" />
+
+                <TextView
+                    android:id="@+id/birthday"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_birthday"
+                    app:layout_constraintStart_toStartOf="@+id/tv_birthday"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_birthday" />
+
+                <View
+                    android:id="@+id/line3"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/birthday"
+                    app:layout_constraintStart_toStartOf="@+id/birthday"
+                    app:layout_constraintTop_toBottomOf="@id/birthday" />
+
+
+                <TextView
+                    android:id="@+id/tv_gender"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Пол"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line3"
+                    app:layout_constraintStart_toStartOf="@+id/tv_iin"
+                    app:layout_constraintTop_toBottomOf="@+id/line3" />
+
+                <TextView
+                    android:id="@+id/gender"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_gender"
+                    app:layout_constraintStart_toStartOf="@+id/tv_gender"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_gender" />
+
+                <View
+                    android:id="@+id/line4"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/gender"
+                    app:layout_constraintStart_toStartOf="@+id/gender"
+                    app:layout_constraintTop_toBottomOf="@id/gender" />
+
+
+                <TextView
+                    android:id="@+id/tv_phone_number"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Номер телефона"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line4"
+                    app:layout_constraintStart_toStartOf="@+id/line4"
+                    app:layout_constraintTop_toBottomOf="@+id/line4" />
+
+                <TextView
+                    android:id="@+id/phone_number"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_phone_number"
+                    app:layout_constraintStart_toStartOf="@+id/tv_phone_number"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_phone_number" />
+
+                <View
+                    android:id="@+id/line5"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/phone_number"
+                    app:layout_constraintStart_toStartOf="@+id/phone_number"
+                    app:layout_constraintTop_toBottomOf="@id/phone_number" />
+
+
+                <TextView
+                    android:id="@+id/tv_address"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Адрес"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line5"
+                    app:layout_constraintStart_toStartOf="@+id/line5"
+                    app:layout_constraintTop_toBottomOf="@+id/line5" />
+
+                <TextView
+                    android:id="@+id/address"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_address"
+                    app:layout_constraintStart_toStartOf="@+id/tv_address"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_address" />
+
+                <View
+                    android:id="@+id/line6"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/address"
+                    app:layout_constraintStart_toStartOf="@+id/address"
+                    app:layout_constraintTop_toBottomOf="@id/address" />
+
+
+                <TextView
+                    android:id="@+id/tv_login"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Логин"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line6"
+                    app:layout_constraintStart_toStartOf="@+id/line6"
+                    app:layout_constraintTop_toBottomOf="@+id/line6" />
+
+                <TextView
+                    android:id="@+id/login"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_login"
+                    app:layout_constraintStart_toStartOf="@+id/tv_login"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_login" />
+
+                <View
+                    android:id="@+id/line7"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:layout_marginTop="4dp"
+                    android:background="#c0c0c0"
+                    app:layout_constraintEnd_toEndOf="@id/login"
+                    app:layout_constraintStart_toStartOf="@+id/login"
+                    app:layout_constraintTop_toBottomOf="@id/login" />
+
+
+                <TextView
+                    android:id="@+id/tv_password"
+                    android:layout_width="0dp"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="16dp"
+                    android:text="Пароль"
+                    android:textColor="#616161"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/line7"
+                    app:layout_constraintStart_toStartOf="@+id/line7"
+                    app:layout_constraintTop_toBottomOf="@+id/line7" />
+
+                <TextView
+                    android:id="@+id/password"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginStart="16dp"
+                    android:layout_marginTop="2dp"
+                    android:layout_marginEnd="16dp"
+                    android:maxWidth="300dp"
+                    android:paddingStart="8dp"
+                    android:paddingEnd="8dp"
+                    android:paddingBottom="8dp"
+                    android:text=""
+                    android:textColor="@color/black"
+                    android:textSize="16sp"
+                    app:layout_constraintEnd_toEndOf="@+id/tv_password"
+                    app:layout_constraintStart_toStartOf="@+id/tv_password"
+                    app:layout_constraintTop_toBottomOf="@+id/tv_password" />
+            </androidx.constraintlayout.widget.ConstraintLayout>
+
+            <com.google.android.material.button.MaterialButton
+                android:id="@+id/change_data"
+                android:layout_width="360dp"
+                android:layout_height="@dimen/button_height"
+                app:cornerRadius="8dp"
+                android:backgroundTint="#2E58AB"
+                android:textAlignment="center"
+                android:text="Редактировать"
+                android:layout_marginTop="16dp"
+                app:layout_constraintEnd_toEndOf="@+id/constraint2"
+                app:layout_constraintStart_toStartOf="@+id/constraint2"
+                app:layout_constraintTop_toBottomOf="@+id/constraint2" />
+
+ <com.google.android.material.button.MaterialButton
+                android:id="@+id/sign_out_app"
+                android:layout_width="360dp"
+                android:layout_height="@dimen/button_height"
+                android:layout_marginBottom="16dp"
+                app:cornerRadius="8dp"
+                android:backgroundTint="#2E58AB"
+                android:textAlignment="center"
+                android:text="Выход"
+                app:layout_constraintEnd_toEndOf="@+id/change_data"
+                app:layout_constraintStart_toStartOf="@+id/change_data"
+                app:layout_constraintTop_toBottomOf="@+id/change_data" />
+
+        </androidx.constraintlayout.widget.ConstraintLayout>
+    </ScrollView>
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/values/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <!-- Default screen margins, per the Android Design guidelines. -->\r\n    <dimen name=\"activity_horizontal_margin\">16dp</dimen>\r\n    <dimen name=\"activity_vertical_margin\">16dp</dimen>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/dimens.xml b/app/src/main/res/values/dimens.xml
--- a/app/src/main/res/values/dimens.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/values/dimens.xml	(date 1644570194966)
@@ -2,4 +2,5 @@
     <!-- Default screen margins, per the Android Design guidelines. -->
     <dimen name="activity_horizontal_margin">16dp</dimen>
     <dimen name="activity_vertical_margin">16dp</dimen>
+    <dimen name="button_height">60dp</dimen>
 </resources>
\ No newline at end of file
Index: app/src/main/res/values/themes.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources xmlns:tools=\"http://schemas.android.com/tools\">\r\n    <!-- Base application theme. -->\r\n    <style name=\"Theme.TestMed\" parent=\"Theme.MaterialComponents.DayNight.DarkActionBar\">\r\n        <!-- Primary brand color. -->\r\n        <item name=\"colorPrimary\">@color/purple_500</item>\r\n        <item name=\"colorPrimaryVariant\">@color/purple_700</item>\r\n        <item name=\"colorOnPrimary\">@color/white</item>\r\n        <!-- Secondary brand color. -->\r\n        <item name=\"colorSecondary\">@color/teal_200</item>\r\n        <item name=\"colorSecondaryVariant\">@color/teal_700</item>\r\n        <item name=\"colorOnSecondary\">@color/black</item>\r\n        <!-- Status bar color. -->\r\n        <item name=\"android:statusBarColor\" tools:targetApi=\"l\">?attr/colorPrimaryVariant</item>\r\n        <!-- Customize your theme here. -->\r\n    </style>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/themes.xml b/app/src/main/res/values/themes.xml
--- a/app/src/main/res/values/themes.xml	(revision 4e01cbb56380bbce07202185ce5604960eac3cf6)
+++ b/app/src/main/res/values/themes.xml	(date 1644572897384)
@@ -10,7 +10,9 @@
         <item name="colorSecondaryVariant">@color/teal_700</item>
         <item name="colorOnSecondary">@color/black</item>
         <!-- Status bar color. -->
-        <item name="android:statusBarColor" tools:targetApi="l">?attr/colorPrimaryVariant</item>
+        <item name="android:statusBarColor" >@color/status_bar</item>
         <!-- Customize your theme here. -->
     </style>
+
+    <color name="status_bar">#2E58AB</color>
 </resources>
\ No newline at end of file
